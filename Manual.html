<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.5.57">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Gonzalo Almendariz Villanueva">

<title>Manual</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="Manual_files/libs/clipboard/clipboard.min.js"></script>
<script src="Manual_files/libs/quarto-html/quarto.js"></script>
<script src="Manual_files/libs/quarto-html/popper.min.js"></script>
<script src="Manual_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="Manual_files/libs/quarto-html/anchor.min.js"></script>
<link href="Manual_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="Manual_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="Manual_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="Manual_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="Manual_files/libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">


</head>

<body class="fullcontent">

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article">

<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Manual</h1>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Gonzalo Almendariz Villanueva </p>
          </div>
  </div>
    
  
    
  </div>
  


</header>


<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(incorer)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<section id="general_tabla" class="level1">
<h1><strong>general_tabla()</strong></h1>
<p><strong>Puntaje General por región con ediciones en columnas</strong></p>
<p>Esta función es la primera de la familia de utilidades general_* y su objetivo es <strong>construir una tabla “ancha”</strong> con el <strong>puntaje General (0–10)</strong> del INCORE. Las <strong>filas</strong> corresponden a <strong>regiones</strong> y las <strong>columnas</strong> a las <strong>ediciones</strong> solicitadas, con encabezados del tipo puntaje_YYYY. Internamente, filtra únicamente las filas cuyo pilar <strong>empieza</strong> con <em>“Índice de Competitividad Regional”</em> (es decir, el índice de portada) y, por diseño, <strong>excluye</strong> la fila “Perú” salvo que se indique lo contrario.</p>
<section id="introducción" class="level2">
<h2 class="anchored" data-anchor-id="introducción"><strong>Introducción</strong></h2>
<p><code>general_tabla()</code> resuelve una necesidad frecuente en análisis y reporte: <strong>comparar de forma compacta</strong> el desempeño general por <strong>región</strong> a través de <strong>una o varias ediciones</strong>. Frente a un gráfico, la tabla facilita <strong>exportaciones</strong>, <strong>validaciones cruzadas</strong> y <strong>anexos metodológicos</strong>. Además, puede devolver un objeto tibble listo para <strong>manipulación</strong> posterior o, si se solicita, formatear una <strong>tabla gt</strong> con encabezados pulidos para su uso directo en informes y documentos.</p>
<p>Los argumentos usar_codigos e incluir_peru cumplen funciones operativas: el primero armoniza <strong>códigos/nombres</strong> de región antes de filtrar y el segundo decide si se <strong>incluye</strong> la fila “Perú” (promedio nacional). Salvo que tu salida requiera explícitamente a “Perú”, es razonable mantener el valor por defecto (excluido) para centrar la lectura en las <strong>regiones</strong>.</p>
</section>
<section id="parámetros-explicación-y-opciones" class="level2">
<h2 class="anchored" data-anchor-id="parámetros-explicación-y-opciones"><strong>Parámetros (explicación y opciones)</strong></h2>
<p>A la hora de utilizar general_tabla(), las decisiones principales son: (i) qué <strong>ediciones</strong> se desean en columnas, (ii) qué <strong>universo de regiones</strong> se incluye (todas, subconjuntos o grupos), y (iii) si la salida debe ser <strong>tibble</strong> (para análisis) o <strong>gt</strong> (para presentación).</p>
<ul>
<li><p><strong>ediciones</strong>: determina las <strong>columnas</strong> de la tabla (una o varias ediciones).</p>
<p>Opciones y formato:</p>
<ul>
<li><p>2019:2025 (rango continuo)</p></li>
<li><p>c(2018, 2020, 2023, 2025) (conjunto específico)</p></li>
<li><p>2025 (una sola edición)</p></li>
<li><p>Reglas defensivas: valores dentro de 2016 … 2025</p></li>
</ul></li>
<li><p><strong>regiones</strong>: controla el <strong>universo</strong> de filas (regiones) a incluir.</p>
<p>Opciones y formato:</p>
<ul>
<li><p>“ALL” (por defecto; todas las regiones)</p></li>
<li><p>c(“Arequipa”, “Cusco”) (por nombre)</p></li>
<li><p>c(“ARE”, “CUS”) (por código)</p></li>
<li><p><strong>Grupos</strong> “gr_costa”, “gr_sierra”, “gr_selva” (cuando están disponibles en tu ecosistema)</p></li>
<li><p><strong>Exclusiones</strong> por patrón: “-Lima*”</p></li>
<li><p>Combinaciones: c(“gr_costa”, “La Libertad”, “-Lima*”)</p></li>
</ul></li>
<li><p><strong>gt</strong>: define el <strong>tipo de salida</strong>.</p>
<p>Opciones y formato:</p>
<ul>
<li><p>FALSE (por defecto) ⇒ devuelve un tibble</p></li>
<li><p>TRUE ⇒ devuelve un objeto gt con encabezados tipo “Puntaje 2025”, etc.</p></li>
</ul></li>
</ul>
</section>
<section id="explicación-conceptual" class="level2">
<h2 class="anchored" data-anchor-id="explicación-conceptual"><strong>Explicación conceptual</strong></h2>
<p>La función <strong>lee</strong> las ediciones indicadas, <strong>filtra</strong> únicamente el <strong>índice general de portada</strong> (filas cuyo pilar comienza con <em>“Índice de Competitividad Regional”</em>), <strong>incluye o excluye</strong> la fila “Perú” según se solicite y <strong>aplica</strong> el filtrado de regiones con soporte para <strong>grupos</strong> y <strong>exclusiones</strong>.</p>
<p>Luego <strong>prepara</strong> un único valor por combinación region–edicion (redondeo defensivo) y <strong>pivotea</strong> a formato ancho con nombres de columna puntaje_YYYY. En caso de valores duplicados, utiliza una <strong>media</strong> defensiva para consolidar. La salida final es un <strong>tibble</strong> ordenado (por región) o una <strong>tabla gt</strong> con encabezados legibles y formato numérico a <strong>dos decimales</strong>.</p>
</section>
<section id="ejemplos-prácticos" class="level2">
<h2 class="anchored" data-anchor-id="ejemplos-prácticos"><strong>Ejemplos prácticos</strong></h2>
<blockquote class="blockquote">
<p>Se asume el paquete cargado y las dependencias disponibles. Los ejemplos exploran <strong>funcionalidades propias del paquete</strong>: grupos gr_*, exclusiones por patrón, control de la fila “Perú” y salida gt.</p>
</blockquote>
<section id="tabla-simple-para-una-edición-tibble-por-defecto" class="level3">
<h3 class="anchored" data-anchor-id="tabla-simple-para-una-edición-tibble-por-defecto"><strong>1) Tabla simple para una edición (tibble por defecto)</strong></h3>
<p><strong>Se desea lo siguiente:</strong> obtener la tabla del <strong>puntaje General</strong> por región para la edición 2025, en formato <strong>tibble</strong>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>tab1 <span class="ot">&lt;-</span> <span class="fu">general_tabla</span>(</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">ediciones =</span> <span class="dv">2025</span>,</span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">regiones  =</span> <span class="st">"ALL"</span>,</span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">gt        =</span> <span class="cn">FALSE</span></span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a>tab1</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 25 × 2
   region       puntaje_2025
   &lt;chr&gt;               &lt;dbl&gt;
 1 Amazonas             4.31
 2 Apurímac             5.1 
 3 Arequipa             6.91
 4 Ayacucho             4.85
 5 Cajamarca            4.38
 6 Cusco                5.76
 7 Huancavelica         4.82
 8 Huánuco              4.37
 9 Ica                  6.37
10 Junín                5.22
# ℹ 15 more rows</code></pre>
</div>
</div>
<p><strong>Resultado esperado.</strong> Un tibble con columnas region y puntaje_2025, filas ordenadas alfabéticamente; <strong>sin</strong> la fila “Perú” (por defecto).</p>
</section>
<section id="varias-ediciones-20222025-y-subconjunto-por-grupo-costero" class="level3">
<h3 class="anchored" data-anchor-id="varias-ediciones-20222025-y-subconjunto-por-grupo-costero"><strong>2) Varias ediciones (2022–2025) y subconjunto por grupo costero</strong></h3>
<p><strong>Se desea lo siguiente:</strong> comparar el bloque <strong>costero</strong> a través de varias ediciones, manteniendo salida en tibble.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a>tab2 <span class="ot">&lt;-</span> <span class="fu">general_tabla</span>(</span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">ediciones =</span> <span class="dv">2022</span><span class="sc">:</span><span class="dv">2025</span>,</span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">regiones  =</span> <span class="st">"gr_costa"</span>,</span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">gt        =</span> <span class="cn">FALSE</span></span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a>tab2</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 11 × 5
   region          puntaje_2022 puntaje_2023 puntaje_2024 puntaje_2025
   &lt;chr&gt;                  &lt;dbl&gt;        &lt;dbl&gt;        &lt;dbl&gt;        &lt;dbl&gt;
 1 Arequipa                6.48         6.59         6.63         6.91
 2 Ica                     5.97         6            6.3          6.37
 3 La Libertad             5.12         5.02         5.24         5.54
 4 Lambayeque              4.93         5.02         5.21         5.42
 5 Lima Provincias         5.31         5.52         5.63         6.02
 6 Lima*                   6.89         6.81         7.05         7.34
 7 Moquegua                6.95         7.22         7.37         7.38
 8 Piura                   4.52         4.39         4.59         4.88
 9 Tacna                   6.01         6.27         6.29         6.43
10 Tumbes                  4.9          5.05         4.85         5.05
11 Áncash                  4.89         4.93         5.23         5.4 </code></pre>
</div>
</div>
<p><strong>Resultado esperado.</strong> Un tibble con columnas puntaje_2022, …, puntaje_2025 solo para las regiones incluidas en gr_costa, útil para análisis de tendencia tabular.</p>
</section>
<section id="inclusión-de-perú-y-un-patrón-costa" class="level3">
<h3 class="anchored" data-anchor-id="inclusión-de-perú-y-un-patrón-costa"><strong>3) Inclusión de “Perú” y un patrón (costa) </strong></h3>
<p><strong>Se desea lo siguiente:</strong> mostrar el <strong>promedio nacional</strong> en la tabla.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a>tab3 <span class="ot">&lt;-</span> <span class="fu">general_tabla</span>(</span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">ediciones    =</span> <span class="dv">2020</span><span class="sc">:</span><span class="dv">2025</span>,</span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">regiones     =</span> <span class="fu">c</span>(<span class="st">"gr_costa"</span>, <span class="st">"Perú"</span>),</span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">incluir_peru =</span> <span class="cn">TRUE</span>,</span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">gt           =</span> <span class="cn">FALSE</span></span>
<span id="cb6-6"><a href="#cb6-6" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb6-7"><a href="#cb6-7" aria-hidden="true" tabindex="-1"></a>tab3</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 12 × 7
   region       puntaje_2020 puntaje_2021 puntaje_2022 puntaje_2023 puntaje_2024
   &lt;chr&gt;               &lt;dbl&gt;        &lt;dbl&gt;        &lt;dbl&gt;        &lt;dbl&gt;        &lt;dbl&gt;
 1 Arequipa             6.93         6.25         6.48         6.59         6.63
 2 Ica                  6.52         5.89         5.97         6            6.3 
 3 La Libertad          5.34         4.94         5.12         5.02         5.24
 4 Lambayeque           5.31         4.99         4.93         5.02         5.21
 5 Lima Provin…         5.34         4.99         5.31         5.52         5.63
 6 Lima*                7.39         6.68         6.89         6.81         7.05
 7 Moquegua             7.1          6.66         6.95         7.22         7.37
 8 Perú                 5.03         4.61         4.79         4.77         5.02
 9 Piura                4.96         4.36         4.52         4.39         4.59
10 Tacna                6.41         6.09         6.01         6.27         6.29
11 Tumbes               5.17         4.51         4.9          5.05         4.85
12 Áncash               5.21         4.73         4.89         4.93         5.23
# ℹ 1 more variable: puntaje_2025 &lt;dbl&gt;</code></pre>
</div>
</div>
<p><strong>Resultado esperado.</strong> Un tibble con la fila “Perú” y las regiones <strong>costeras</strong> excepto las que coincidan con “Lima*”. Útil para contrastar <strong>selección</strong> vs.&nbsp;<strong>promedio país</strong>.</p>
</section>
<section id="salida-gt-con-encabezados-legibles-dos-ediciones-no-contiguas" class="level3">
<h3 class="anchored" data-anchor-id="salida-gt-con-encabezados-legibles-dos-ediciones-no-contiguas"><strong>4) Salida gt con encabezados legibles (dos ediciones no contiguas)</strong></h3>
<p><strong>Se desea lo siguiente:</strong> producir una <strong>tabla presentable</strong> para un informe, con dos ediciones específicas.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a>tab4 <span class="ot">&lt;-</span> <span class="fu">general_tabla</span>(</span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">ediciones =</span> <span class="fu">c</span>(<span class="dv">2021</span>, <span class="dv">2025</span>),</span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">regiones  =</span> <span class="st">"ALL"</span>,</span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">gt        =</span> <span class="cn">TRUE</span></span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb8-6"><a href="#cb8-6" aria-hidden="true" tabindex="-1"></a>tab4</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div id="hqnhennnvx" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>#hqnhennnvx table {
  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#hqnhennnvx thead, #hqnhennnvx tbody, #hqnhennnvx tfoot, #hqnhennnvx tr, #hqnhennnvx td, #hqnhennnvx th {
  border-style: none;
}

#hqnhennnvx p {
  margin: 0;
  padding: 0;
}

#hqnhennnvx .gt_table {
  display: table;
  border-collapse: collapse;
  line-height: normal;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 14px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#hqnhennnvx .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#hqnhennnvx .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#hqnhennnvx .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 3px;
  padding-bottom: 5px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#hqnhennnvx .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#hqnhennnvx .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#hqnhennnvx .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#hqnhennnvx .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#hqnhennnvx .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#hqnhennnvx .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#hqnhennnvx .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#hqnhennnvx .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#hqnhennnvx .gt_spanner_row {
  border-bottom-style: hidden;
}

#hqnhennnvx .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#hqnhennnvx .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#hqnhennnvx .gt_from_md > :first-child {
  margin-top: 0;
}

#hqnhennnvx .gt_from_md > :last-child {
  margin-bottom: 0;
}

#hqnhennnvx .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#hqnhennnvx .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#hqnhennnvx .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#hqnhennnvx .gt_row_group_first td {
  border-top-width: 2px;
}

#hqnhennnvx .gt_row_group_first th {
  border-top-width: 2px;
}

#hqnhennnvx .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#hqnhennnvx .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#hqnhennnvx .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#hqnhennnvx .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#hqnhennnvx .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#hqnhennnvx .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#hqnhennnvx .gt_last_grand_summary_row_top {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: double;
  border-bottom-width: 6px;
  border-bottom-color: #D3D3D3;
}

#hqnhennnvx .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#hqnhennnvx .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#hqnhennnvx .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#hqnhennnvx .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#hqnhennnvx .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#hqnhennnvx .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#hqnhennnvx .gt_left {
  text-align: left;
}

#hqnhennnvx .gt_center {
  text-align: center;
}

#hqnhennnvx .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#hqnhennnvx .gt_font_normal {
  font-weight: normal;
}

#hqnhennnvx .gt_font_bold {
  font-weight: bold;
}

#hqnhennnvx .gt_font_italic {
  font-style: italic;
}

#hqnhennnvx .gt_super {
  font-size: 65%;
}

#hqnhennnvx .gt_footnote_marks {
  font-size: 75%;
  vertical-align: 0.4em;
  position: initial;
}

#hqnhennnvx .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#hqnhennnvx .gt_indent_1 {
  text-indent: 5px;
}

#hqnhennnvx .gt_indent_2 {
  text-indent: 10px;
}

#hqnhennnvx .gt_indent_3 {
  text-indent: 15px;
}

#hqnhennnvx .gt_indent_4 {
  text-indent: 20px;
}

#hqnhennnvx .gt_indent_5 {
  text-indent: 25px;
}

#hqnhennnvx .katex-display {
  display: inline-flex !important;
  margin-bottom: 0.75em !important;
}

#hqnhennnvx div.Reactable > div.rt-table > div.rt-thead > div.rt-tr.rt-tr-group-header > div.rt-th-group:after {
  height: 0px !important;
}
</style>

<table class="gt_table caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-quarto-disable-processing="false" data-quarto-bootstrap="false">
<thead>
<tr class="header gt_heading">
<th colspan="3" class="gt_heading gt_title gt_font_normal">Índice de Competitividad Regional — Puntaje General</th>
</tr>
<tr class="odd gt_heading">
<th colspan="3" class="gt_heading gt_subtitle gt_font_normal gt_bottom_border">Ediciones 2021–2025</th>
</tr>
<tr class="header gt_col_headings">
<th id="region" class="gt_col_heading gt_columns_bottom_border gt_left" data-quarto-table-cell-role="th" scope="col">region</th>
<th id="puntaje_2021" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">Puntaje 2021</th>
<th id="puntaje_2025" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">Puntaje 2025</th>
</tr>
</thead>
<tbody class="gt_table_body">
<tr class="odd">
<td class="gt_row gt_left" headers="region">Amazonas</td>
<td class="gt_row gt_right" headers="puntaje_2021">3.98</td>
<td class="gt_row gt_right" headers="puntaje_2025">4.31</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="region">Apurímac</td>
<td class="gt_row gt_right" headers="puntaje_2021">4.54</td>
<td class="gt_row gt_right" headers="puntaje_2025">5.10</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="region">Arequipa</td>
<td class="gt_row gt_right" headers="puntaje_2021">6.25</td>
<td class="gt_row gt_right" headers="puntaje_2025">6.91</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="region">Ayacucho</td>
<td class="gt_row gt_right" headers="puntaje_2021">4.21</td>
<td class="gt_row gt_right" headers="puntaje_2025">4.85</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="region">Cajamarca</td>
<td class="gt_row gt_right" headers="puntaje_2021">3.75</td>
<td class="gt_row gt_right" headers="puntaje_2025">4.38</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="region">Cusco</td>
<td class="gt_row gt_right" headers="puntaje_2021">4.65</td>
<td class="gt_row gt_right" headers="puntaje_2025">5.76</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="region">Huancavelica</td>
<td class="gt_row gt_right" headers="puntaje_2021">4.03</td>
<td class="gt_row gt_right" headers="puntaje_2025">4.82</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="region">Huánuco</td>
<td class="gt_row gt_right" headers="puntaje_2021">3.88</td>
<td class="gt_row gt_right" headers="puntaje_2025">4.37</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="region">Ica</td>
<td class="gt_row gt_right" headers="puntaje_2021">5.89</td>
<td class="gt_row gt_right" headers="puntaje_2025">6.37</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="region">Junín</td>
<td class="gt_row gt_right" headers="puntaje_2021">4.41</td>
<td class="gt_row gt_right" headers="puntaje_2025">5.22</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="region">La Libertad</td>
<td class="gt_row gt_right" headers="puntaje_2021">4.94</td>
<td class="gt_row gt_right" headers="puntaje_2025">5.54</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="region">Lambayeque</td>
<td class="gt_row gt_right" headers="puntaje_2021">4.99</td>
<td class="gt_row gt_right" headers="puntaje_2025">5.42</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="region">Lima Provincias</td>
<td class="gt_row gt_right" headers="puntaje_2021">4.99</td>
<td class="gt_row gt_right" headers="puntaje_2025">6.02</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="region">Lima*</td>
<td class="gt_row gt_right" headers="puntaje_2021">6.68</td>
<td class="gt_row gt_right" headers="puntaje_2025">7.34</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="region">Loreto</td>
<td class="gt_row gt_right" headers="puntaje_2021">2.77</td>
<td class="gt_row gt_right" headers="puntaje_2025">3.45</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="region">Madre de Dios</td>
<td class="gt_row gt_right" headers="puntaje_2021">4.19</td>
<td class="gt_row gt_right" headers="puntaje_2025">4.89</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="region">Moquegua</td>
<td class="gt_row gt_right" headers="puntaje_2021">6.66</td>
<td class="gt_row gt_right" headers="puntaje_2025">7.38</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="region">Pasco</td>
<td class="gt_row gt_right" headers="puntaje_2021">3.63</td>
<td class="gt_row gt_right" headers="puntaje_2025">4.96</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="region">Piura</td>
<td class="gt_row gt_right" headers="puntaje_2021">4.36</td>
<td class="gt_row gt_right" headers="puntaje_2025">4.88</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="region">Puno</td>
<td class="gt_row gt_right" headers="puntaje_2021">3.84</td>
<td class="gt_row gt_right" headers="puntaje_2025">4.21</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="region">San Martín</td>
<td class="gt_row gt_right" headers="puntaje_2021">3.88</td>
<td class="gt_row gt_right" headers="puntaje_2025">4.76</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="region">Tacna</td>
<td class="gt_row gt_right" headers="puntaje_2021">6.09</td>
<td class="gt_row gt_right" headers="puntaje_2025">6.43</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="region">Tumbes</td>
<td class="gt_row gt_right" headers="puntaje_2021">4.51</td>
<td class="gt_row gt_right" headers="puntaje_2025">5.05</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="region">Ucayali</td>
<td class="gt_row gt_right" headers="puntaje_2021">3.50</td>
<td class="gt_row gt_right" headers="puntaje_2025">3.95</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="region">Áncash</td>
<td class="gt_row gt_right" headers="puntaje_2021">4.73</td>
<td class="gt_row gt_right" headers="puntaje_2025">5.40</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<p><strong>Resultado esperado.</strong> Un objeto gt con título y subtítulo automáticos, columnas “Puntaje 2021” y “Puntaje 2025” formateadas a <strong>dos decimales</strong>.</p>
</section>
<section id="conjunto-mixto-grupo-regiones-explícitas-y-salida-gt" class="level3">
<h3 class="anchored" data-anchor-id="conjunto-mixto-grupo-regiones-explícitas-y-salida-gt"><strong>5) Conjunto mixto (grupo + regiones explícitas) y salida gt</strong></h3>
<p><strong>Se desea lo siguiente:</strong> combinar un <strong>grupo</strong> y <strong>regiones puntuales</strong> en una única tabla de varias ediciones, lista para reporte.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a>tab5 <span class="ot">&lt;-</span> <span class="fu">general_tabla</span>(</span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">ediciones =</span> <span class="dv">2019</span><span class="sc">:</span><span class="dv">2025</span>,</span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">regiones  =</span> <span class="fu">c</span>(<span class="st">"gr_sierra"</span>, <span class="st">"Arequipa"</span>, <span class="st">"La Libertad"</span>),</span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">gt        =</span> <span class="cn">TRUE</span></span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb9-6"><a href="#cb9-6" aria-hidden="true" tabindex="-1"></a>tab5</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div id="dhmwdtrlix" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>#dhmwdtrlix table {
  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#dhmwdtrlix thead, #dhmwdtrlix tbody, #dhmwdtrlix tfoot, #dhmwdtrlix tr, #dhmwdtrlix td, #dhmwdtrlix th {
  border-style: none;
}

#dhmwdtrlix p {
  margin: 0;
  padding: 0;
}

#dhmwdtrlix .gt_table {
  display: table;
  border-collapse: collapse;
  line-height: normal;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 14px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#dhmwdtrlix .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#dhmwdtrlix .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#dhmwdtrlix .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 3px;
  padding-bottom: 5px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#dhmwdtrlix .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#dhmwdtrlix .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#dhmwdtrlix .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#dhmwdtrlix .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#dhmwdtrlix .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#dhmwdtrlix .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#dhmwdtrlix .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#dhmwdtrlix .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#dhmwdtrlix .gt_spanner_row {
  border-bottom-style: hidden;
}

#dhmwdtrlix .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#dhmwdtrlix .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#dhmwdtrlix .gt_from_md > :first-child {
  margin-top: 0;
}

#dhmwdtrlix .gt_from_md > :last-child {
  margin-bottom: 0;
}

#dhmwdtrlix .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#dhmwdtrlix .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#dhmwdtrlix .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#dhmwdtrlix .gt_row_group_first td {
  border-top-width: 2px;
}

#dhmwdtrlix .gt_row_group_first th {
  border-top-width: 2px;
}

#dhmwdtrlix .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#dhmwdtrlix .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#dhmwdtrlix .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#dhmwdtrlix .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#dhmwdtrlix .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#dhmwdtrlix .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#dhmwdtrlix .gt_last_grand_summary_row_top {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: double;
  border-bottom-width: 6px;
  border-bottom-color: #D3D3D3;
}

#dhmwdtrlix .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#dhmwdtrlix .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#dhmwdtrlix .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#dhmwdtrlix .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#dhmwdtrlix .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#dhmwdtrlix .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#dhmwdtrlix .gt_left {
  text-align: left;
}

#dhmwdtrlix .gt_center {
  text-align: center;
}

#dhmwdtrlix .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#dhmwdtrlix .gt_font_normal {
  font-weight: normal;
}

#dhmwdtrlix .gt_font_bold {
  font-weight: bold;
}

#dhmwdtrlix .gt_font_italic {
  font-style: italic;
}

#dhmwdtrlix .gt_super {
  font-size: 65%;
}

#dhmwdtrlix .gt_footnote_marks {
  font-size: 75%;
  vertical-align: 0.4em;
  position: initial;
}

#dhmwdtrlix .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#dhmwdtrlix .gt_indent_1 {
  text-indent: 5px;
}

#dhmwdtrlix .gt_indent_2 {
  text-indent: 10px;
}

#dhmwdtrlix .gt_indent_3 {
  text-indent: 15px;
}

#dhmwdtrlix .gt_indent_4 {
  text-indent: 20px;
}

#dhmwdtrlix .gt_indent_5 {
  text-indent: 25px;
}

#dhmwdtrlix .katex-display {
  display: inline-flex !important;
  margin-bottom: 0.75em !important;
}

#dhmwdtrlix div.Reactable > div.rt-table > div.rt-thead > div.rt-tr.rt-tr-group-header > div.rt-th-group:after {
  height: 0px !important;
}
</style>

<table class="gt_table caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-quarto-disable-processing="false" data-quarto-bootstrap="false">
<thead>
<tr class="header gt_heading">
<th colspan="8" class="gt_heading gt_title gt_font_normal">Índice de Competitividad Regional — Puntaje General</th>
</tr>
<tr class="odd gt_heading">
<th colspan="8" class="gt_heading gt_subtitle gt_font_normal gt_bottom_border">Ediciones 2019–2025</th>
</tr>
<tr class="header gt_col_headings">
<th id="region" class="gt_col_heading gt_columns_bottom_border gt_left" data-quarto-table-cell-role="th" scope="col">region</th>
<th id="puntaje_2019" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">Puntaje 2019</th>
<th id="puntaje_2020" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">Puntaje 2020</th>
<th id="puntaje_2021" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">Puntaje 2021</th>
<th id="puntaje_2022" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">Puntaje 2022</th>
<th id="puntaje_2023" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">Puntaje 2023</th>
<th id="puntaje_2024" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">Puntaje 2024</th>
<th id="puntaje_2025" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">Puntaje 2025</th>
</tr>
</thead>
<tbody class="gt_table_body">
<tr class="odd">
<td class="gt_row gt_left" headers="region">Apurímac</td>
<td class="gt_row gt_right" headers="puntaje_2019">4.31</td>
<td class="gt_row gt_right" headers="puntaje_2020">4.79</td>
<td class="gt_row gt_right" headers="puntaje_2021">4.54</td>
<td class="gt_row gt_right" headers="puntaje_2022">4.71</td>
<td class="gt_row gt_right" headers="puntaje_2023">4.80</td>
<td class="gt_row gt_right" headers="puntaje_2024">5.00</td>
<td class="gt_row gt_right" headers="puntaje_2025">5.10</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="region">Arequipa</td>
<td class="gt_row gt_right" headers="puntaje_2019">6.82</td>
<td class="gt_row gt_right" headers="puntaje_2020">6.93</td>
<td class="gt_row gt_right" headers="puntaje_2021">6.25</td>
<td class="gt_row gt_right" headers="puntaje_2022">6.48</td>
<td class="gt_row gt_right" headers="puntaje_2023">6.59</td>
<td class="gt_row gt_right" headers="puntaje_2024">6.63</td>
<td class="gt_row gt_right" headers="puntaje_2025">6.91</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="region">Ayacucho</td>
<td class="gt_row gt_right" headers="puntaje_2019">4.31</td>
<td class="gt_row gt_right" headers="puntaje_2020">4.46</td>
<td class="gt_row gt_right" headers="puntaje_2021">4.21</td>
<td class="gt_row gt_right" headers="puntaje_2022">4.33</td>
<td class="gt_row gt_right" headers="puntaje_2023">4.35</td>
<td class="gt_row gt_right" headers="puntaje_2024">4.61</td>
<td class="gt_row gt_right" headers="puntaje_2025">4.85</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="region">Cajamarca</td>
<td class="gt_row gt_right" headers="puntaje_2019">3.60</td>
<td class="gt_row gt_right" headers="puntaje_2020">4.22</td>
<td class="gt_row gt_right" headers="puntaje_2021">3.75</td>
<td class="gt_row gt_right" headers="puntaje_2022">4.21</td>
<td class="gt_row gt_right" headers="puntaje_2023">3.79</td>
<td class="gt_row gt_right" headers="puntaje_2024">4.23</td>
<td class="gt_row gt_right" headers="puntaje_2025">4.38</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="region">Cusco</td>
<td class="gt_row gt_right" headers="puntaje_2019">5.18</td>
<td class="gt_row gt_right" headers="puntaje_2020">5.42</td>
<td class="gt_row gt_right" headers="puntaje_2021">4.65</td>
<td class="gt_row gt_right" headers="puntaje_2022">5.02</td>
<td class="gt_row gt_right" headers="puntaje_2023">5.08</td>
<td class="gt_row gt_right" headers="puntaje_2024">5.50</td>
<td class="gt_row gt_right" headers="puntaje_2025">5.76</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="region">Huancavelica</td>
<td class="gt_row gt_right" headers="puntaje_2019">3.52</td>
<td class="gt_row gt_right" headers="puntaje_2020">3.91</td>
<td class="gt_row gt_right" headers="puntaje_2021">4.03</td>
<td class="gt_row gt_right" headers="puntaje_2022">3.97</td>
<td class="gt_row gt_right" headers="puntaje_2023">3.84</td>
<td class="gt_row gt_right" headers="puntaje_2024">4.35</td>
<td class="gt_row gt_right" headers="puntaje_2025">4.82</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="region">Huánuco</td>
<td class="gt_row gt_right" headers="puntaje_2019">3.62</td>
<td class="gt_row gt_right" headers="puntaje_2020">4.04</td>
<td class="gt_row gt_right" headers="puntaje_2021">3.88</td>
<td class="gt_row gt_right" headers="puntaje_2022">3.87</td>
<td class="gt_row gt_right" headers="puntaje_2023">3.65</td>
<td class="gt_row gt_right" headers="puntaje_2024">4.07</td>
<td class="gt_row gt_right" headers="puntaje_2025">4.37</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="region">Junín</td>
<td class="gt_row gt_right" headers="puntaje_2019">4.45</td>
<td class="gt_row gt_right" headers="puntaje_2020">4.78</td>
<td class="gt_row gt_right" headers="puntaje_2021">4.41</td>
<td class="gt_row gt_right" headers="puntaje_2022">4.61</td>
<td class="gt_row gt_right" headers="puntaje_2023">4.75</td>
<td class="gt_row gt_right" headers="puntaje_2024">5.01</td>
<td class="gt_row gt_right" headers="puntaje_2025">5.22</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="region">La Libertad</td>
<td class="gt_row gt_right" headers="puntaje_2019">5.08</td>
<td class="gt_row gt_right" headers="puntaje_2020">5.34</td>
<td class="gt_row gt_right" headers="puntaje_2021">4.94</td>
<td class="gt_row gt_right" headers="puntaje_2022">5.12</td>
<td class="gt_row gt_right" headers="puntaje_2023">5.02</td>
<td class="gt_row gt_right" headers="puntaje_2024">5.24</td>
<td class="gt_row gt_right" headers="puntaje_2025">5.54</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="region">Pasco</td>
<td class="gt_row gt_right" headers="puntaje_2019">3.86</td>
<td class="gt_row gt_right" headers="puntaje_2020">4.04</td>
<td class="gt_row gt_right" headers="puntaje_2021">3.63</td>
<td class="gt_row gt_right" headers="puntaje_2022">4.10</td>
<td class="gt_row gt_right" headers="puntaje_2023">4.20</td>
<td class="gt_row gt_right" headers="puntaje_2024">4.58</td>
<td class="gt_row gt_right" headers="puntaje_2025">4.96</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="region">Puno</td>
<td class="gt_row gt_right" headers="puntaje_2019">3.72</td>
<td class="gt_row gt_right" headers="puntaje_2020">4.06</td>
<td class="gt_row gt_right" headers="puntaje_2021">3.84</td>
<td class="gt_row gt_right" headers="puntaje_2022">3.93</td>
<td class="gt_row gt_right" headers="puntaje_2023">3.77</td>
<td class="gt_row gt_right" headers="puntaje_2024">4.04</td>
<td class="gt_row gt_right" headers="puntaje_2025">4.21</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="region">Áncash</td>
<td class="gt_row gt_right" headers="puntaje_2019">4.73</td>
<td class="gt_row gt_right" headers="puntaje_2020">5.21</td>
<td class="gt_row gt_right" headers="puntaje_2021">4.73</td>
<td class="gt_row gt_right" headers="puntaje_2022">4.89</td>
<td class="gt_row gt_right" headers="puntaje_2023">4.93</td>
<td class="gt_row gt_right" headers="puntaje_2024">5.23</td>
<td class="gt_row gt_right" headers="puntaje_2025">5.40</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<p><strong>Resultado esperado.</strong> Una tabla gt con las regiones de gr_sierra <strong>más</strong> Arequipa y La Libertad, y columnas puntaje_2019 … puntaje_2025. Lista para exportar o incorporar en un documento.</p>
</section>
</section>
<section id="recomendaciones-de-uso-e-interpretación" class="level2">
<h2 class="anchored" data-anchor-id="recomendaciones-de-uso-e-interpretación"><strong>Recomendaciones de uso e interpretación</strong></h2>
<ul>
<li><p><strong>Tibble vs.&nbsp;gt.</strong></p>
<ul>
<li><p>Usa gt = FALSE cuando la tabla sea <strong>insumo</strong> para cálculos, fusiones o validaciones.</p></li>
<li><p>Usa gt = TRUE cuando priorices <strong>presentación</strong> en informes o anexos.</p></li>
</ul></li>
<li><p><strong>Con “Perú” o sin “Perú”.</strong></p>
<ul>
<li><p>incluir_peru = TRUE es útil para <strong>referencia país</strong>;</p></li>
<li><p>mantenerlo en FALSE enfoca la atención en la <strong>heterogeneidad regional</strong>.</p></li>
</ul></li>
<li><p><strong>Grupos y exclusiones.</strong></p>
<ul>
<li>Apalanca “gr_costa” / “gr_sierra” / “gr_selva” y patrones como “-Lima*” para <strong>subconjuntos curados</strong>.</li>
</ul></li>
<li><p><strong>Orden y claridad.</strong></p>
<ul>
<li><p>Las columnas se crean como puntaje_YYYY y respetan el orden de ediciones solicitado.</p></li>
<li><p>Los valores están redondeados a <strong>dos decimales</strong> para coherencia con el resto del paquete.</p></li>
</ul></li>
</ul>
<p>¿Quieres que adapte alguno de estos ejemplos a <strong>ediciones</strong> o <strong>bloques regionales</strong> específicos de tu manual, o seguimos con la próxima función con <strong>este mismo formato</strong>?</p>
</section>
</section>
<section id="general_barras" class="level1">
<h1><strong>general_barras()</strong></h1>
<p><strong>Visualización del puntaje General por región en una edición del INCORE</strong></p>
<section id="introducción-1" class="level2">
<h2 class="anchored" data-anchor-id="introducción-1"><strong>Introducción</strong></h2>
<p>La función <code>general_barras()</code> ofrece una representación clara y jerárquica de los puntajes del <strong>Índice de Competitividad Regional (INCORE)</strong> en una edición determinada. Su diseño se centra en el formato de <strong>barras horizontales ordenadas de mayor a menor</strong>, lo que facilita identificar de inmediato las regiones que destacan por su competitividad y aquellas que se encuentran rezagadas. Esta función resulta particularmente valiosa cuando se requiere mostrar un panorama sintético y visualmente contundente del ranking regional, ya sea para fines académicos, informes de política pública o presentaciones institucionales.</p>
<p>En el marco del INCORE, donde cada región obtiene un puntaje entre 0 y 10 , la función permite elegir entre dos aproximaciones: representar el <strong>índice general total</strong>, que resume el desempeño en los seis pilares (Entorno Económico, Laboral, Infraestructura, Salud, Educación e Instituciones), o enfocarse en el <strong>puntaje General de un pilar específico</strong>, con lo cual se resalta una dimensión particular de la competitividad. Esta flexibilidad convierte a general_barras() en una herramienta versátil, adecuada tanto para un primer acercamiento como para análisis más focalizados.</p>
</section>
<section id="parámetros" class="level2">
<h2 class="anchored" data-anchor-id="parámetros"><strong>Parámetros</strong></h2>
<p>La utilización de la función descansa en la combinación de algunos argumentos clave. Cada uno de ellos abre distintas posibilidades de análisis:</p>
<ul>
<li><p><strong>edicion</strong>: corresponde al año de análisis del INCORE. Debe indicarse un valor único dentro del rango de disponibilidad.</p>
<p>Opciones:</p>
<ul>
<li>2016 … 2025</li>
</ul></li>
<li><p><strong>pilar</strong>: define si se grafica el índice general total o el <strong>General</strong> de un pilar específico.</p>
<p>Opciones:</p>
<ul>
<li><p>NULL (por defecto: índice general total)</p></li>
<li><p>“NOMBRE_DEL_PILAR” (ejemplo: “Salud”)</p></li>
<li><p>“CODIGO_PILAR” (ejemplo: “SAL”)</p></li>
</ul></li>
<li><p><strong>regiones</strong>: delimita el conjunto de regiones a mostrar. Se aceptan nombres, códigos o grupos predefinidos.</p>
<p>Opciones:</p>
<ul>
<li><p>“ALL” (por defecto: todas las regiones)</p></li>
<li><p>c(“REGION1”, “REGION2”)</p></li>
<li><p>c(“COD1”, “COD2”)</p></li>
<li><p>c(“gr_norte”, “gr_sur”)</p></li>
<li><p>Combinaciones mixtas (ejemplo: c(“gr_norte”, “Lima”, “La Libertad”))</p></li>
</ul></li>
<li><p><strong>paleta</strong>: establece la paleta cualitativa de colores para distinguir regiones.</p>
<p>Opciones:</p>
<ul>
<li><p>“ipe” (por defecto, con la gama institucional del paquete)</p></li>
<li><p>“okabe_ito” (diseñada para accesibilidad visual)</p></li>
<li><p>“viridis” (escala perceptualmente uniforme, útil con muchas categorías)</p></li>
</ul></li>
<li><p><strong>mostrar_leyenda</strong>: determina si se incluye la leyenda en el gráfico.</p>
<p>Opciones:</p>
<ul>
<li><p>FALSE (por defecto)</p></li>
<li><p>TRUE</p></li>
</ul></li>
</ul>
<p>Los parámetros <strong>usar_codigos</strong> e <strong>incluir_peru</strong> son auxiliares: el primero asegura que los códigos regionales o de pilar se traduzcan a nombres oficiales, mientras que el segundo permite incluir el promedio nacional de “Perú” como referencia en el gráfico.</p>
</section>
<section id="explicación-conceptual-1" class="level2">
<h2 class="anchored" data-anchor-id="explicación-conceptual-1"><strong>Explicación conceptual</strong></h2>
<p>El proceso interno de la función puede describirse en tres fases:</p>
<ol type="1">
<li><p><strong>Preparación de datos.</strong> Se leen los resultados del INCORE para la edición indicada. Dependiendo de la selección de pilar, se filtra el índice general total o el puntaje General de un pilar específico.</p></li>
<li><p><strong>Ajustes y filtros.</strong> Se excluye “Perú” de manera predeterminada (a menos que se indique lo contrario) y se aplica el filtro de regiones, con soporte para grupos predefinidos. Posteriormente, se consolidan los valores y se asegura que cada región tenga un único puntaje.</p></li>
<li><p><strong>Visualización.</strong> Se construye un gráfico con barras horizontales ordenadas de mayor a menor, etiquetas numéricas con dos decimales y una escala fija entre 0 y 10. El uso de colores diferenciados por región permite reforzar la legibilidad y la comparación.</p></li>
</ol>
<p>La salida final es un objeto ggplot, lo que significa que puede ser modificado, guardado o integrado en flujos de trabajo de visualización más amplios.</p>
</section>
<section id="ejemplos" class="level2">
<h2 class="anchored" data-anchor-id="ejemplos"><strong>Ejemplos</strong></h2>
<section id="visualización-general-de-la-edición-2025" class="level3">
<h3 class="anchored" data-anchor-id="visualización-general-de-la-edición-2025"><strong>1) Visualización general de la edición 2025</strong></h3>
<p><strong>Se desea lo siguiente:</strong> generar un ranking completo de las 25 regiones para el índice general total en la edición 2025.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a>graf1 <span class="ot">&lt;-</span> <span class="fu">general_barras</span>(<span class="at">edicion =</span> <span class="dv">2025</span>)</span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a>graf1</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Manual_files/figure-html/unnamed-chunk-7-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p><strong>Resultado esperado.</strong> Un gráfico de barras horizontales que muestra a todas las regiones ordenadas por su puntaje total en 2025.</p>
</section>
<section id="enfoque-por-pilar-nombre-con-leyenda-activada" class="level3">
<h3 class="anchored" data-anchor-id="enfoque-por-pilar-nombre-con-leyenda-activada"><strong>2) Enfoque por pilar (nombre) con leyenda activada</strong></h3>
<p><strong>Se desea lo siguiente:</strong> explorar el desempeño de las regiones en el pilar de Salud.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a>graf2 <span class="ot">&lt;-</span> <span class="fu">general_barras</span>(</span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">edicion =</span> <span class="dv">2025</span>,</span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">pilar =</span> <span class="st">"Salud"</span>,</span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">mostrar_leyenda =</span> <span class="cn">TRUE</span></span>
<span id="cb11-5"><a href="#cb11-5" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb11-6"><a href="#cb11-6" aria-hidden="true" tabindex="-1"></a>graf2</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Manual_files/figure-html/unnamed-chunk-8-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p><strong>Resultado esperado.</strong> Ranking regional para el pilar Salud, con la leyenda activada para identificar los colores asociados.</p>
</section>
<section id="subconjunto-de-regiones-grupo-y-nombres" class="level3">
<h3 class="anchored" data-anchor-id="subconjunto-de-regiones-grupo-y-nombres"><strong>3) Subconjunto de regiones (grupo y nombres)</strong></h3>
<p><strong>Se desea lo siguiente:</strong> reducir la visualización a un grupo de regiones del norte y dos regiones adicionales.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a>graf3 <span class="ot">&lt;-</span> <span class="fu">general_barras</span>(</span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">edicion =</span> <span class="dv">2025</span>,</span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">regiones =</span> <span class="fu">c</span>(<span class="st">"gr_norte"</span>, <span class="st">"Lima*"</span>, <span class="st">"La Libertad"</span>)</span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb12-5"><a href="#cb12-5" aria-hidden="true" tabindex="-1"></a>graf3</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Manual_files/figure-html/unnamed-chunk-9-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p><strong>Resultado esperado.</strong> Un gráfico con solo las regiones especificadas, manteniendo la escala común de 0 a 10.</p>
</section>
<section id="inclusión-de-perú-y-cambio-de-paleta" class="level3">
<h3 class="anchored" data-anchor-id="inclusión-de-perú-y-cambio-de-paleta"><strong>4) Inclusión de “Perú” y cambio de paleta</strong></h3>
<p><strong>Se desea lo siguiente:</strong> incluir la referencia nacional y utilizar una paleta perceptualmente uniforme.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a>graf4 <span class="ot">&lt;-</span> <span class="fu">general_barras</span>(</span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">edicion =</span> <span class="dv">2025</span>,</span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">pilar =</span> <span class="st">"Infraestructura"</span>,</span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">incluir_peru =</span> <span class="cn">TRUE</span>,</span>
<span id="cb13-5"><a href="#cb13-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">paleta =</span> <span class="st">"viridis"</span></span>
<span id="cb13-6"><a href="#cb13-6" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb13-7"><a href="#cb13-7" aria-hidden="true" tabindex="-1"></a>graf4</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Manual_files/figure-html/unnamed-chunk-10-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p><strong>Resultado esperado.</strong> Ranking del pilar Infraestructura con la fila “Perú” como punto de comparación y colores adaptados a “viridis”.</p>
</section>
<section id="comparación-focalizada-de-regiones-líderes-y-rezagadas" class="level3">
<h3 class="anchored" data-anchor-id="comparación-focalizada-de-regiones-líderes-y-rezagadas"><strong>5) Comparación focalizada de regiones líderes y rezagadas</strong></h3>
<p><strong>Se desea lo siguiente:</strong> destacar únicamente sesis regiones del índice general total en 2025.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a>graf5 <span class="ot">&lt;-</span> <span class="fu">general_barras</span>(</span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">edicion =</span> <span class="dv">2025</span>,</span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">regiones =</span> <span class="fu">c</span>(<span class="st">"Moquegua"</span>, <span class="st">"Lima*"</span>, <span class="st">"Arequipa"</span>,</span>
<span id="cb14-4"><a href="#cb14-4" aria-hidden="true" tabindex="-1"></a>               <span class="st">"Loreto"</span>, <span class="st">"Ucayali"</span>, <span class="st">"Puno"</span>),</span>
<span id="cb14-5"><a href="#cb14-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">paleta =</span> <span class="st">"okabe_ito"</span>,</span>
<span id="cb14-6"><a href="#cb14-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">mostrar_leyenda =</span> <span class="cn">TRUE</span></span>
<span id="cb14-7"><a href="#cb14-7" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb14-8"><a href="#cb14-8" aria-hidden="true" tabindex="-1"></a>graf5</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Manual_files/figure-html/unnamed-chunk-11-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p><strong>Resultado esperado.</strong> Gráfico con seis barras que permiten comparar visualmente el contraste entre los primeros lugares (Moquegua, Lima*, Arequipa) y los últimos (Loreto, Ucayali, Puno), siguiendo los resultados oficiales del INCORE .</p>
</section>
</section>
</section>
<section id="general_dispersion_pilares" class="level1">
<h1><strong>general_dispersion_pilares()</strong></h1>
<p><strong>Dispersión del puntaje General por pilar (una edición)</strong></p>
<p>La función integra la familia de visualizaciones general_* y su objetivo es representar, para una <strong>edición</strong> del INCORE, la <strong>distribución del puntaje General (0–10)</strong> de las regiones <strong>a lo largo de los pilares</strong>. Cada <strong>pilar</strong> constituye el eje <strong>X</strong> y cada <strong>punto</strong> corresponde al puntaje <strong>General</strong> de una <strong>región</strong> en ese pilar. El resultado es una vista <strong>comparativa y transversal</strong>: permite observar, en un mismo gráfico, cómo se “abren” o “cierran” las dispersiones por pilar, dónde se ubica el <strong>promedio nacional</strong> y qué tan heterogéneo es el desempeño por dimensión.</p>
<section id="introducción-2" class="level2">
<h2 class="anchored" data-anchor-id="introducción-2"><strong>Introducción</strong></h2>
<p>general_dispersion_pilares() aborda un problema típico en informes comparativos: <strong>entender la variabilidad entre regiones por dimensiones</strong> (pilares) dentro de un mismo año. Mientras que un ranking de barras prioriza el orden, esta función prioriza la <strong>distribución</strong>: ¿en qué pilares existe mayor concentración de regiones en torno a valores similares? ¿Dónde se observan colas más pronunciadas? ¿Cómo se ubican las regiones respecto del <strong>promedio nacional</strong>? La lectura simultánea por pilares facilita detectar <strong>asimetrías</strong>: por ejemplo, un pilar con medias similares pero <strong>dispersión alta</strong> frente a otro con <strong>dispersión baja</strong>, o clusters de regiones que tienden a agruparse en determinados pilares.</p>
</section>
<section id="parámetros-1" class="level2">
<h2 class="anchored" data-anchor-id="parámetros-1"><strong>Parámetros</strong></h2>
<p>La lógica de uso parte de una <strong>edición</strong> y, opcionalmente, filtros de <strong>regiones</strong> y <strong>pilares</strong>. Existen además parámetros de <strong>estética</strong> que permiten aclarar la lectura (jitter para separar puntos, estilo del promedio) y una <strong>paleta cualitativa</strong> para distinguir regiones.</p>
<ul>
<li><p><strong>edicion</strong>: fija la <strong>edición (año)</strong> del INCORE a visualizar.</p>
<p>Opciones y formato:</p>
<ul>
<li><p>integer(1)</p></li>
<li><p>2016 … 2025</p></li>
</ul></li>
<li><p><strong>regiones</strong>: delimita el <strong>universo de regiones</strong> a mostrar, admite nombres, códigos, <strong>grupos gr_*</strong>, e <strong>inclusiones/exclusiones</strong> con prefijos como “-”.</p>
<p>Opciones y formato:</p>
<ul>
<li><p>“ALL” (por defecto: todas las regiones)</p></li>
<li><p>c(“REGION1”, “REGION2”)</p></li>
<li><p>c(“COD1”, “COD2”)</p></li>
<li><p>c(“gr_costa”, “gr_sierra”, “gr_selva”) (según los grupos definidos en el paquete)</p></li>
<li><p>Exclusiones: “-Lima*” (ejemplo de patrón para excluir)</p></li>
<li><p>Combinaciones mixtas: c(“gr_costa”, “La Libertad”, “-Lima*”)</p></li>
</ul></li>
<li><p><strong>pilares</strong>: selecciona los <strong>pilares</strong> a incluir, puede mezclar <strong>nombres</strong> y <strong>códigos</strong> (si se cuenta con catálogos activos).</p>
<p>Opciones y formato:</p>
<ul>
<li><p>“ALL” (por defecto: “Entorno económico”, “Laboral”, “Infraestructura”, “Salud”, “Educación”, “Instituciones”)</p></li>
<li><p>Nombres: c(“Salud”, “Educación”)</p></li>
<li><p>Códigos: c(“SAL”, “EDU”)</p></li>
<li><p>Mezcla: c(“SAL”, “Educación”, “INF”)</p></li>
</ul></li>
<li><p><strong>paleta</strong>: paleta <strong>cualitativa</strong> para colorear <strong>por región</strong> (colores consistentes a través de pilares).</p>
<p>Opciones y formato:</p>
<ul>
<li><p>“ipe” (por defecto)</p></li>
<li><p>“okabe_ito” (accesible para daltonismo)</p></li>
<li><p>“viridis” (perceptualmente uniforme, recomendable con muchas regiones)</p></li>
</ul></li>
<li><p><strong>mostrar_promedio</strong>: añade un <strong>marcador del promedio nacional</strong> (promedio entre regiones) por <strong>pilar</strong>.</p>
<p>Opciones y formato:</p>
<ul>
<li><p>TRUE (por defecto)</p></li>
<li><p>FALSE</p></li>
</ul></li>
<li><p><strong>promedio_shape</strong>, <strong>promedio_size</strong>, <strong>promedio_color</strong>, <strong>promedio_fill</strong>: controlan la <strong>estética</strong> del marcador de promedio (forma, tamaño, color de borde y relleno).</p>
<p>Opciones (típicas):</p>
<ul>
<li><p>promedio_shape = 23 (rombo relleno)</p></li>
<li><p>promedio_size = 3.5</p></li>
<li><p>promedio_color = “black”</p></li>
<li><p>promedio_fill = “white”</p></li>
</ul></li>
<li><p><strong>jitter_width</strong>, <strong>jitter_height</strong>: amplitud del <strong>jitter</strong> para <strong>separar</strong> puntos que podrían superponerse vertical u horizontalmente.</p>
<p>Opciones y formato:</p>
<ul>
<li><p>jitter_width = 0.08 (por defecto)</p></li>
<li><p>jitter_height = 0.0 (por defecto)</p></li>
</ul></li>
</ul>
<p>El parámetro <strong>usar_codigos</strong> cumple una función operativa secundaria: si es TRUE, habilita la <strong>traducción</strong> de códigos de región/pilar a nombres oficiales mediante los catálogos del paquete, manteniendo consistencia editorial.</p>
</section>
<section id="explicación-conceptual-2" class="level2">
<h2 class="anchored" data-anchor-id="explicación-conceptual-2"><strong>Explicación conceptual</strong></h2>
<p>La función <strong>lee</strong> los datos de la edición indicada, <strong>filtra</strong> las filas correspondientes al <strong>indicador “General”</strong> de cada <strong>pilar canónico</strong> y <strong>excluye</strong> la fila “Perú” para concentrar el análisis en dispersiones <strong>inter-regionales</strong>. Si se especifican pilares, traduce y filtra según nombres/códigos, si se especifican regiones, resuelve <strong>grupos gr_*</strong> y <strong>exclusiones</strong>. Como salvaguarda, <strong>consolida</strong> un valor por (región, pilar) y prepara una <strong>paleta</strong> cualitativa estable para todas las regiones del subconjunto. La marcación del <strong>promedio nacional</strong> añade un <strong>referente</strong> en cada pilar, útil para identificar pilares por encima/por debajo de la media. La geometría base es un <strong>geom_jitter</strong> con límites fijos <strong>0–10</strong> en y, lo que estandariza la comparación entre pilares y evita interpretaciones sensibles a escalas variables.</p>
</section>
<section id="ejemplos-1" class="level2">
<h2 class="anchored" data-anchor-id="ejemplos-1"><strong>Ejemplos</strong></h2>
<section id="dispersión-completa-por-pilares-en-una-edición" class="level3">
<h3 class="anchored" data-anchor-id="dispersión-completa-por-pilares-en-una-edición"><strong>1) Dispersión completa por pilares en una edición</strong></h3>
<p><strong>Se desea lo siguiente:</strong> visualizar la dispersión del <strong>puntaje General</strong> de todas las regiones en <strong>todos los pilares</strong> para una edición reciente.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a>p1 <span class="ot">&lt;-</span> <span class="fu">general_dispersion_pilares</span>(</span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">edicion =</span> <span class="dv">2025</span>,</span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">regiones =</span> <span class="st">"ALL"</span>,</span>
<span id="cb15-4"><a href="#cb15-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">pilares  =</span> <span class="st">"ALL"</span></span>
<span id="cb15-5"><a href="#cb15-5" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb15-6"><a href="#cb15-6" aria-hidden="true" tabindex="-1"></a>p1</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Manual_files/figure-html/unnamed-chunk-12-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p><strong>Resultado esperado.</strong> Puntos por región en cada pilar, con <strong>promedio nacional</strong> marcado (por defecto). Permite detectar pilares con <strong>dispersión alta/baja</strong> y la posición de la media en cada uno.</p>
</section>
<section id="subconjunto-territorial-con-grupos-y-exclusiones" class="level3">
<h3 class="anchored" data-anchor-id="subconjunto-territorial-con-grupos-y-exclusiones"><strong>2) Subconjunto territorial con grupos y exclusiones</strong></h3>
<p><strong>Se desea lo siguiente:</strong> revisar la dispersión solo para <strong>costa</strong> y excluir <strong>Lima</strong>* para observar la estructura sin el mayor outlier urbano.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a>p2 <span class="ot">&lt;-</span> <span class="fu">general_dispersion_pilares</span>(</span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">edicion =</span> <span class="dv">2025</span>,</span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">regiones =</span> <span class="fu">c</span>(<span class="st">"gr_costa"</span>, <span class="st">"-Lima*"</span>),</span>
<span id="cb16-4"><a href="#cb16-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">pilares  =</span> <span class="st">"ALL"</span>,</span>
<span id="cb16-5"><a href="#cb16-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">paleta   =</span> <span class="st">"okabe_ito"</span></span>
<span id="cb16-6"><a href="#cb16-6" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb16-7"><a href="#cb16-7" aria-hidden="true" tabindex="-1"></a>p2</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Manual_files/figure-html/unnamed-chunk-13-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p><strong>Resultado esperado.</strong> Dispersión enfocada en la <strong>costa</strong> sin Lima*, coloreada con una paleta accesible para daltonismo. La comparación por pilar revela si, sin Lima*, cambian los pilares con mayor/menor heterogeneidad.</p>
</section>
<section id="selección-de-pilares-por-código" class="level3">
<h3 class="anchored" data-anchor-id="selección-de-pilares-por-código"><strong>3) Selección de pilares por código</strong></h3>
<p><strong>Se desea lo siguiente:</strong> comparar únicamente <strong>Salud</strong> e <strong>Infraestructura</strong> utilizando códigos, manteniendo el promedio visible.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a>p3 <span class="ot">&lt;-</span> <span class="fu">general_dispersion_pilares</span>(</span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">edicion =</span> <span class="dv">2025</span>,</span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">regiones =</span> <span class="st">"ALL"</span>,</span>
<span id="cb17-4"><a href="#cb17-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">pilares  =</span> <span class="fu">c</span>(<span class="st">"SAL"</span>, <span class="st">"INF"</span>),</span>
<span id="cb17-5"><a href="#cb17-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">mostrar_promedio =</span> <span class="cn">TRUE</span></span>
<span id="cb17-6"><a href="#cb17-6" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb17-7"><a href="#cb17-7" aria-hidden="true" tabindex="-1"></a>p3</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Manual_files/figure-html/unnamed-chunk-14-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p><strong>Resultado esperado.</strong> Dispersión centrada en <strong>dos pilares</strong> clave, el <strong>promedio nacional</strong> por pilar facilita contrastar si la mediana subjetiva de los puntos coincide o no con la media trazada.</p>
</section>
<section id="lectura-fina-en-un-bloque-mixto-de-regiones" class="level3">
<h3 class="anchored" data-anchor-id="lectura-fina-en-un-bloque-mixto-de-regiones"><strong>4) Lectura fina en un bloque mixto de regiones</strong></h3>
<p><strong>Se desea lo siguiente:</strong> inspeccionar un <strong>bloque mixto</strong> (grupo + regiones puntuales) y ajustar el <strong>jitter</strong> para separar puntos muy cercanos.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a>p4 <span class="ot">&lt;-</span> <span class="fu">general_dispersion_pilares</span>(</span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">edicion =</span> <span class="dv">2025</span>,</span>
<span id="cb18-3"><a href="#cb18-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">regiones =</span> <span class="fu">c</span>(<span class="st">"gr_costa"</span>, <span class="st">"Cusco"</span>, <span class="st">"Arequipa"</span>),</span>
<span id="cb18-4"><a href="#cb18-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">pilares  =</span> <span class="fu">c</span>(<span class="st">"Educación"</span>, <span class="st">"Instituciones"</span>, <span class="st">"Laboral"</span>),</span>
<span id="cb18-5"><a href="#cb18-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">jitter_width  =</span> <span class="fl">0.12</span>,</span>
<span id="cb18-6"><a href="#cb18-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">jitter_height =</span> <span class="fl">0.02</span>,</span>
<span id="cb18-7"><a href="#cb18-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">paleta =</span> <span class="st">"viridis"</span></span>
<span id="cb18-8"><a href="#cb18-8" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb18-9"><a href="#cb18-9" aria-hidden="true" tabindex="-1"></a>p4</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Manual_files/figure-html/unnamed-chunk-15-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p><strong>Resultado esperado.</strong> Mejor separación visual de puntos <strong>muy próximos</strong> dentro de los pilares seleccionados, la paleta “viridis” mantiene distinguibilidad cuando hay varias regiones en un mismo rango.</p>
</section>
<section id="vista-focal-con-mezcla-de-nombrescódigos-y-promedio-estilizado" class="level3">
<h3 class="anchored" data-anchor-id="vista-focal-con-mezcla-de-nombrescódigos-y-promedio-estilizado"><strong>5) Vista focal con mezcla de nombres/códigos y promedio estilizado</strong></h3>
<p><strong>Se desea lo siguiente:</strong> centrar la lectura en <strong>tres pilares</strong> combinando nombres y códigos, con un <strong>promedio</strong> más visible por forma/tamaño.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a>p5 <span class="ot">&lt;-</span> <span class="fu">general_dispersion_pilares</span>(</span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">edicion =</span> <span class="dv">2025</span>,</span>
<span id="cb19-3"><a href="#cb19-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">regiones =</span> <span class="fu">c</span>(<span class="st">"gr_sierra"</span>, <span class="st">"La Libertad"</span>, <span class="st">"-Lima*"</span>),</span>
<span id="cb19-4"><a href="#cb19-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">pilares  =</span> <span class="fu">c</span>(<span class="st">"Salud"</span>, <span class="st">"EDU"</span>, <span class="st">"INF"</span>),</span>
<span id="cb19-5"><a href="#cb19-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">mostrar_promedio =</span> <span class="cn">TRUE</span>,</span>
<span id="cb19-6"><a href="#cb19-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">promedio_shape =</span> <span class="dv">23</span>,</span>
<span id="cb19-7"><a href="#cb19-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">promedio_size  =</span> <span class="fl">4.2</span>,</span>
<span id="cb19-8"><a href="#cb19-8" aria-hidden="true" tabindex="-1"></a>  <span class="at">promedio_color =</span> <span class="st">"black"</span>,</span>
<span id="cb19-9"><a href="#cb19-9" aria-hidden="true" tabindex="-1"></a>  <span class="at">promedio_fill  =</span> <span class="st">"white"</span></span>
<span id="cb19-10"><a href="#cb19-10" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb19-11"><a href="#cb19-11" aria-hidden="true" tabindex="-1"></a>p5</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Manual_files/figure-html/unnamed-chunk-16-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p><strong>Resultado esperado.</strong> Dispersión para <strong>Salud</strong>, <strong>Educación</strong> (“EDU”) e <strong>Infraestructura</strong> (“INF”) en un subconjunto que combina <strong>grupo sierra</strong>, una <strong>región específica</strong> y una <strong>exclusión</strong>. El marcador del <strong>promedio</strong> resalta como <strong>referente</strong> por pilar, mejorando la lectura ejecutiva.</p>
</section>
</section>
</section>
<section id="general_distribucion" class="level1">
<h1><strong>general_distribucion()</strong></h1>
<p><strong>Distribución de puntajes (General o por pilares) en una edición</strong></p>
<p>Orientada a representar la <strong>variabilidad</strong> de los puntajes del INCORE para <strong>una edición</strong> específica. A diferencia de un ranking, que enfatiza el orden, general_distribucion() enfatiza la <strong>distribución</strong>: permite observar <strong>medianas, rangos intercuartílicos, colas y outliers</strong> a través de <strong>boxplots</strong> o <strong>violines</strong>, ya sea sobre el <strong>índice general</strong> (un único eje) o sobre los <strong>seis pilares</strong> simultáneamente (seis ejes).</p>
<section id="introducción-3" class="level2">
<h2 class="anchored" data-anchor-id="introducción-3"><strong>Introducción</strong></h2>
<p>El objetivo de general_distribucion() es ofrecer una <strong>lectura estructurada de la dispersión</strong> entre regiones. En contextos donde se requiere comprender <strong>heterogeneidad territorial</strong>, esta visualización ayuda a responder preguntas como: ¿qué tan amplia es la variación entre regiones en cada pilar?, ¿en qué dimensiones los valores se agrupan de forma compacta?, ¿cómo se compara la <strong>media nacional</strong> con la distribución subnacional? La función trabaja <strong>exclusivamente</strong> con filas cuya unidad es Puntaje del 0 al 10 y, de forma consistente con el paquete, usa leer_incore(…, agregar_codigos = TRUE) para asegurar la disponibilidad de <strong>códigos canónicos</strong> de pilar y región cuando correspondan.</p>
</section>
<section id="parámetros-2" class="level2">
<h2 class="anchored" data-anchor-id="parámetros-2"><strong>Parámetros</strong></h2>
<p>La estrategia de uso se construye a partir de tres decisiones: (i) <strong>qué eje</strong> se desea mostrar (“general” vs “pilares”), (ii) <strong>qué forma</strong> de distribución se prefiere (“boxplot” vs “violin”), y (iii) <strong>qué subconjunto</strong> de regiones conviene analizar (por grupos, exclusiones o mezcla de códigos/nombres). Sobre ello, se aplican elecciones de <strong>paleta</strong> y elementos de <strong>lectura</strong> como la <strong>línea de promedio</strong> y el <strong>jitter</strong>.</p>
<ul>
<li><p><strong>edicion</strong>: establece la <strong>edición (año)</strong> del INCORE a graficar, es un único valor numérico.</p>
<p>Opciones y formato:</p>
<ul>
<li><p>integer(1)</p></li>
<li><p>2016 … 2025</p></li>
</ul></li>
<li><p><strong>modo</strong>: define si la distribución se visualiza como <strong>un solo eje</strong> (índice general) o <strong>seis ejes</strong> (pilares).</p>
<p>Opciones y formato:</p>
<ul>
<li><p>“pilares” (por defecto)</p></li>
<li><p>“general”</p></li>
</ul></li>
<li><p><strong>regiones</strong>: delimita el <strong>universo regional</strong>, admite nombres, códigos, <strong>grupos gr_*</strong>, e <strong>inclusiones/exclusiones</strong> con prefijo “-”.</p>
<p>Opciones y formato:</p>
<ul>
<li><p>“ALL” (todas las regiones)</p></li>
<li><p>c(“REGION1”, “REGION2”)</p></li>
<li><p>c(“COD1”, “COD2”)</p></li>
<li><p>c(“gr_costa”, “gr_sierra”, “gr_selva”)</p></li>
<li><p>Exclusiones: “-Lima*”</p></li>
<li><p>Combinaciones mixtas: c(“gr_costa”, “La Libertad”, “-Lima*”)</p></li>
</ul></li>
<li><p><strong>tipo</strong>: el <strong>estimador gráfico</strong> de distribución.</p>
<p>Opciones y formato:</p>
<ul>
<li><p>“boxplot” (por defecto, resalta mediana y cuartiles)</p></li>
<li><p>“violin” (muestra densidad, útil con muchas observaciones)</p></li>
</ul></li>
<li><p><strong>jitter</strong>: decide si superponer <strong>puntos individuales</strong> para evidenciar masa de datos o outliers locales.</p>
<p>Opciones y formato:</p>
<ul>
<li><p>FALSE (por defecto)</p></li>
<li><p>TRUE (añade puntos con alpha suave)</p></li>
</ul></li>
<li><p><strong>paleta</strong>: paleta <strong>discreta</strong> de relleno, en modo = “pilares” se aplica <strong>por pilar</strong>, en modo = “general” el relleno es <strong>único</strong>.</p>
<p>Opciones y formato:</p>
<ul>
<li><p>“blues” (por defecto)</p></li>
<li><p>“viridis”</p></li>
<li><p>“cividis”</p></li>
</ul></li>
<li><p><strong>linea_promedio</strong>: dibuja una <strong>línea horizontal punteada</strong> en el <strong>promedio nacional</strong> (calculado sobre regiones).</p>
<p>Opciones y formato:</p>
<ul>
<li><p>TRUE (por defecto)</p></li>
<li><p>FALSE</p></li>
</ul></li>
<li><p><strong>mostrar_leyenda</strong>: controla la visibilidad de leyenda (relevante solo en modo = “pilares”).</p>
<p>Opciones y formato:</p>
<ul>
<li><p>FALSE (por defecto)</p></li>
<li><p>TRUE</p></li>
</ul></li>
</ul>
<p>El parámetro <strong>usar_codigos</strong> cumple un rol operativo (traducción de códigos a nombres oficiales), normalmente se deja en TRUE para mantener consistencia visual y editorial.</p>
</section>
<section id="explicación-conceptual-3" class="level2">
<h2 class="anchored" data-anchor-id="explicación-conceptual-3"><strong>Explicación conceptual</strong></h2>
<p>La función <strong>lee</strong> los datos de la edición solicitada con <strong>códigos</strong> disponibles, <strong>filtra</strong> a Puntaje del 0 al 10 y aplica, si corresponde, <strong>resolución de grupos</strong> y <strong>exclusiones</strong> de regiones. En modo = “general”, se construye <strong>un único eje</strong> (código GEN) a partir del <strong>índice general</strong>, en modo = “pilares”, se trabaja con los seis <strong>códigos canónicos</strong> (ECO, LAB, INF, SAL, EDU, INS) y <strong>se ordenan</strong> los ejes por una estadística robusta (p.&nbsp;ej., mediana) para favorecer la lectura comparativa. La <strong>línea de promedio</strong> agrega un referente nacional por encima/dentro de la distribución, y la paleta <strong>discreta</strong> garantiza legibilidad por pilar (o un estilo sobrio único en el caso general). La salida es un objeto ggplot con escala <strong>0–10</strong> en el eje vertical, coherente con el resto del paquete.</p>
</section>
<section id="ejemplos-2" class="level2">
<h2 class="anchored" data-anchor-id="ejemplos-2"><strong>Ejemplos</strong></h2>
<section id="distribución-por-pilares-con-configuración-por-defecto" class="level3">
<h3 class="anchored" data-anchor-id="distribución-por-pilares-con-configuración-por-defecto"><strong>1) Distribución por pilares con configuración por defecto</strong></h3>
<p><strong>Se desea lo siguiente:</strong> visualizar la distribución del <strong>puntaje General</strong> por cada pilar para una edición reciente, sin filtros adicionales.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a>g1 <span class="ot">&lt;-</span> <span class="fu">general_distribucion</span>(</span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">edicion =</span> <span class="dv">2025</span>,</span>
<span id="cb20-3"><a href="#cb20-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">modo    =</span> <span class="st">"pilares"</span>,</span>
<span id="cb20-4"><a href="#cb20-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">regiones =</span> <span class="st">"ALL"</span></span>
<span id="cb20-5"><a href="#cb20-5" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb20-6"><a href="#cb20-6" aria-hidden="true" tabindex="-1"></a>g1</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Manual_files/figure-html/unnamed-chunk-17-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p><strong>Resultado esperado.</strong> Seis ejes (“ECO”,“LAB”,“INF”,“SAL”,“EDU”,“INS”) con <strong>boxplots</strong> (o violines, según tipo) y <strong>línea de promedio</strong> nacional. Permite detectar de inmediato pilares con <strong>dispersión alta</strong> frente a otros más <strong>compactos</strong>.</p>
</section>
<section id="índice-general-un-solo-eje-con-jitter-y-promedio" class="level3">
<h3 class="anchored" data-anchor-id="índice-general-un-solo-eje-con-jitter-y-promedio"><strong>2) Índice General (un solo eje) con jitter] y promedio</strong></h3>
<p><strong>Se desea lo siguiente:</strong> observar la <strong>variabilidad nacional</strong> del índice general, con puntos individuales para evidenciar posibles outliers.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a>g2 <span class="ot">&lt;-</span> <span class="fu">general_distribucion</span>(</span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">edicion =</span> <span class="dv">2025</span>,</span>
<span id="cb21-3"><a href="#cb21-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">modo    =</span> <span class="st">"general"</span>,</span>
<span id="cb21-4"><a href="#cb21-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">tipo    =</span> <span class="st">"boxplot"</span>,</span>
<span id="cb21-5"><a href="#cb21-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">jitter  =</span> <span class="cn">TRUE</span>,</span>
<span id="cb21-6"><a href="#cb21-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">linea_promedio =</span> <span class="cn">TRUE</span></span>
<span id="cb21-7"><a href="#cb21-7" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb21-8"><a href="#cb21-8" aria-hidden="true" tabindex="-1"></a>g2</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Manual_files/figure-html/unnamed-chunk-18-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p><strong>Resultado esperado.</strong> Un eje único etiquetado como “GEN”, el <strong>boxplot</strong> resume la distribución y el <strong>jitter</strong> muestra el posicionamiento puntual de cada región. La <strong>línea de promedio</strong> sirve de referencia global.</p>
</section>
<section id="subconjunto-costero-con-exclusión-de-lima-y-paleta-accesible" class="level3">
<h3 class="anchored" data-anchor-id="subconjunto-costero-con-exclusión-de-lima-y-paleta-accesible"><strong>3) Subconjunto costero con exclusión de Lima* y paleta accesible</strong></h3>
<p><strong>Se desea lo siguiente:</strong> analizar la distribución de pilares solo en la <strong>costa</strong>, excluyendo <strong>Lima</strong>*, y mejorar la accesibilidad cromática.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a>g3 <span class="ot">&lt;-</span> <span class="fu">general_distribucion</span>(</span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">edicion =</span> <span class="dv">2025</span>,</span>
<span id="cb22-3"><a href="#cb22-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">modo    =</span> <span class="st">"pilares"</span>,</span>
<span id="cb22-4"><a href="#cb22-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">regiones =</span> <span class="fu">c</span>(<span class="st">"gr_costa"</span>, <span class="st">"-Lima*"</span>),</span>
<span id="cb22-5"><a href="#cb22-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">tipo    =</span> <span class="st">"violin"</span>,</span>
<span id="cb22-6"><a href="#cb22-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">paleta  =</span> <span class="st">"cividis"</span>,</span>
<span id="cb22-7"><a href="#cb22-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">mostrar_leyenda =</span> <span class="cn">TRUE</span></span>
<span id="cb22-8"><a href="#cb22-8" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb22-9"><a href="#cb22-9" aria-hidden="true" tabindex="-1"></a>g3</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Manual_files/figure-html/unnamed-chunk-19-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p><strong>Resultado esperado.</strong> Seis violines con distribución <strong>sin Lima</strong>* (para evitar que su peso estructural distorsione la lectura). La paleta “cividis” favorece la <strong>distinguibilidad</strong> en proyección e impresión.</p>
</section>
<section id="foco-en-tres-pilares-clave-con-jitter-fino-y-paleta-perceptual" class="level3">
<h3 class="anchored" data-anchor-id="foco-en-tres-pilares-clave-con-jitter-fino-y-paleta-perceptual"><strong>4) Foco en tres pilares clave con jitter fino y paleta perceptual</strong></h3>
<p><strong>Se desea lo siguiente:</strong> concentrar la lectura en <strong>Educación</strong>, <strong>Infraestructura</strong> y <strong>Salud</strong> con separación adicional de puntos.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a>g4 <span class="ot">&lt;-</span> <span class="fu">general_distribucion</span>(</span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">edicion =</span> <span class="dv">2025</span>,</span>
<span id="cb23-3"><a href="#cb23-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">modo    =</span> <span class="st">"pilares"</span>,</span>
<span id="cb23-4"><a href="#cb23-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">regiones =</span> <span class="st">"ALL"</span>,</span>
<span id="cb23-5"><a href="#cb23-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">tipo    =</span> <span class="st">"boxplot"</span>,</span>
<span id="cb23-6"><a href="#cb23-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">jitter  =</span> <span class="cn">TRUE</span>,</span>
<span id="cb23-7"><a href="#cb23-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">paleta  =</span> <span class="st">"viridis"</span>,</span>
<span id="cb23-8"><a href="#cb23-8" aria-hidden="true" tabindex="-1"></a>  <span class="at">mostrar_leyenda =</span> <span class="cn">TRUE</span></span>
<span id="cb23-9"><a href="#cb23-9" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb23-10"><a href="#cb23-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-11"><a href="#cb23-11" aria-hidden="true" tabindex="-1"></a>g4</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Manual_files/figure-html/unnamed-chunk-20-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p><strong>Resultado esperado.</strong> Boxplots por pilar con <strong>puntos</strong> superpuestos, la paleta “viridis” mantiene <strong>contraste</strong>.</p>
</section>
<section id="comparación-bloque-mixto-grupo-nombres-con-línea-de-promedio-activada" class="level3">
<h3 class="anchored" data-anchor-id="comparación-bloque-mixto-grupo-nombres-con-línea-de-promedio-activada"><strong>5) Comparación “bloque mixto” (grupo + nombres) con línea de promedio activada</strong></h3>
<p><strong>Se desea lo siguiente:</strong> comparar un <strong>bloque mixto</strong> formado por gr_sierra y dos regiones específicas, manteniendo la referencia nacional.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a>g5 <span class="ot">&lt;-</span> <span class="fu">general_distribucion</span>(</span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">edicion =</span> <span class="dv">2025</span>,</span>
<span id="cb24-3"><a href="#cb24-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">modo    =</span> <span class="st">"pilares"</span>,</span>
<span id="cb24-4"><a href="#cb24-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">regiones =</span> <span class="fu">c</span>(<span class="st">"gr_sierra"</span>, <span class="st">"La Libertad"</span>),</span>
<span id="cb24-5"><a href="#cb24-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">tipo    =</span> <span class="st">"violin"</span>,</span>
<span id="cb24-6"><a href="#cb24-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">paleta  =</span> <span class="st">"blues"</span>,</span>
<span id="cb24-7"><a href="#cb24-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">linea_promedio =</span> <span class="cn">TRUE</span>,</span>
<span id="cb24-8"><a href="#cb24-8" aria-hidden="true" tabindex="-1"></a>  <span class="at">mostrar_leyenda =</span> <span class="cn">TRUE</span></span>
<span id="cb24-9"><a href="#cb24-9" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb24-10"><a href="#cb24-10" aria-hidden="true" tabindex="-1"></a>g5</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Manual_files/figure-html/unnamed-chunk-21-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p><strong>Resultado esperado.</strong> Violines por pilar con énfasis en un <strong>bloque heterogéneo</strong> (grupo + regiones puntuales). La <strong>línea de promedio</strong> refuerza la comparación “por encima/por debajo” del referente nacional, útil para mensajes ejecutivos.</p>
</section>
</section>
</section>
<section id="general_heatmap" class="level1">
<h1><strong>general_heatmap()</strong></h1>
<p><strong>Mapa de calor del puntaje General por región en múltiples ediciones</strong></p>
<section id="introducción-4" class="level2">
<h2 class="anchored" data-anchor-id="introducción-4"><strong>Introducción</strong></h2>
<p>general_heatmap() resuelve un problema habitual en el análisis longitudinal: <strong>comparar la evolución del puntaje General (0–10) por región a lo largo de varias ediciones</strong>. La representación en <strong>mapa de calor</strong> condensa, en una sola figura, tres componentes: <strong>regiones</strong> (filas), <strong>ediciones</strong> (columnas) y <strong>magnitud</strong> del puntaje (color). Esta composición facilita detectar <strong>tendencias</strong> (mejoras o retrocesos), <strong>persistencias</strong> (niveles consistentemente altos o bajos) y <strong>rupturas</strong> (cambios bruscos entre ediciones). La función trabaja exclusivamente con filas cuyo pilar <strong>comienza con</strong> “Índice de Competitividad Regional” (es decir, el <strong>índice general</strong>), y excluye “Perú” para conservar el foco comparativo a nivel regional.</p>
</section>
<section id="parámetros-3" class="level2">
<h2 class="anchored" data-anchor-id="parámetros-3"><strong>Parámetros</strong></h2>
<p>El uso práctico de general_heatmap() se articula en tres decisiones: (i) <strong>rango de ediciones</strong> a mostrar, (ii) <strong>universo de regiones</strong> (total o subconjunto) y (iii) <strong>orden de las filas</strong> de cara a la lectura. Sobre ello, se elige la <strong>paleta continua</strong> de color, se decide si <strong>anotar valores</strong> en cada celda y si <strong>exhibir la leyenda</strong>.</p>
<ul>
<li><p><strong>ediciones</strong>: define el <strong>conjunto de ediciones</strong> a visualizar, requiere <strong>al menos dos años</strong>.</p>
<p>Opciones y formato:</p>
<ul>
<li><p>integer vector con longitud ≥ 2</p></li>
<li><p>Rangos: 2019:2025</p></li>
<li><p>Discretos: c(2018, 2020, 2022, 2024)</p></li>
</ul></li>
<li><p><strong>regiones</strong>: establece el <strong>universo regional</strong>, admite nombres, códigos y, si el paquete lo dispone, <strong>grupos gr_*</strong> y <strong>exclusiones</strong> por prefijo “-”.</p>
<p>Opciones y formato:</p>
<ul>
<li><p>“ALL” (todas las regiones)</p></li>
<li><p>c(“Lima*”, “Arequipa”, “Cusco”) (nombres o patrones)</p></li>
<li><p>c(“MOQ”, “ARE”, “CUS”) (códigos, si están definidos en catálogos)</p></li>
<li><p>c(“gr_costa”, “gr_sierra”) (grupos predefinidos)</p></li>
<li><p>Exclusiones por patrón: “-Lima*”</p></li>
<li><p>Combinaciones mixtas: c(“gr_costa”, “La Libertad”, “-Lima*”)</p></li>
</ul></li>
<li><p><strong>ordenar</strong>: especifica el <strong>criterio de orden</strong> de las filas (regiones) para favorecer la lectura comparativa.</p>
<p>Opciones y formato:</p>
<ul>
<li><p>“ninguno” (orden alfabético)</p></li>
<li><p>“por_ultimo” (según puntaje de la <strong>última</strong> edición del rango)</p></li>
<li><p>“por_promedio” (según <strong>promedio</strong> del puntaje en el rango de ediciones)</p></li>
</ul></li>
<li><p><strong>paleta</strong>: selecciona la <strong>paleta continua</strong> para el mapeo 0–10.</p>
<p>Opciones y formato:</p>
<ul>
<li><p>“blues” (por defecto, progresión fría sobria)</p></li>
<li><p>“viridis” (perceptualmente uniforme)</p></li>
<li><p>“cividis” (accesible en proyección e impresión)</p></li>
<li><p>“magma” (contraste alto, útil para resaltar extremos)</p></li>
</ul></li>
<li><p><strong>anotar</strong>: decide si <strong>imprimir el valor</strong> dentro de cada celda.</p>
<p>Opciones y formato:</p>
<ul>
<li><p>FALSE (por defecto)</p></li>
<li><p>TRUE (muestra valores con dos decimales)</p></li>
</ul></li>
<li><p><strong>mostrar_leyenda</strong>: controla la <strong>visibilidad de la leyenda</strong> de colores.</p>
<p>Opciones y formato:</p>
<ul>
<li><p>TRUE</p></li>
<li><p>FALSE</p></li>
</ul></li>
</ul>
<p>El parámetro <strong>usar_codigos</strong> cumple un rol operativo: cuando es TRUE, traduce códigos de regiones a <strong>nombres oficiales</strong> para mantener consistencia editorial (normalmente se deja activado).</p>
</section>
<section id="explicación-conceptual-4" class="level2">
<h2 class="anchored" data-anchor-id="explicación-conceptual-4"><strong>Explicación conceptual</strong></h2>
<p>La función <strong>lee</strong> el conjunto de ediciones solicitadas, <strong>filtra</strong> únicamente el <strong>índice general</strong> (descartando el agregado nacional “Perú”), y <strong>consolida</strong> un valor por (región, edición) para garantizar unicidad en cada celda del mapa. Luego <strong>ordena</strong> las filas según el criterio indicado: alfabético, por el valor de la <strong>última edición</strong> (adecuado cuando el interés es la situación más reciente) o por el <strong>promedio</strong> a lo largo del período (útil para lecturas de <strong>desempeño sostenido</strong>). Finalmente aplica una <strong>paleta continua</strong> con límites <strong>0–10</strong> y, si se solicita, <strong>anota</strong> el valor en cada celda, lo que puede ser conveniente en matrices pequeñas o en cortes enfocados.</p>
</section>
<section id="ejemplos-3" class="level2">
<h2 class="anchored" data-anchor-id="ejemplos-3"><strong>Ejemplos</strong></h2>
<section id="panorama-básico-por-ediciones-orden-alfabético-paleta-por-defecto" class="level3">
<h3 class="anchored" data-anchor-id="panorama-básico-por-ediciones-orden-alfabético-paleta-por-defecto"><strong>1) Panorama básico por ediciones (orden alfabético, paleta por defecto)</strong></h3>
<p><strong>Se desea lo siguiente:</strong> visualizar la evolución 2020–2025 para todas las regiones, priorizando una lectura sobria.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a>h1 <span class="ot">&lt;-</span> <span class="fu">general_heatmap</span>(</span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">ediciones =</span> <span class="dv">2020</span><span class="sc">:</span><span class="dv">2025</span>,</span>
<span id="cb25-3"><a href="#cb25-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">regiones  =</span> <span class="st">"ALL"</span>,</span>
<span id="cb25-4"><a href="#cb25-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">ordenar   =</span> <span class="st">"ninguno"</span>,</span>
<span id="cb25-5"><a href="#cb25-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">paleta    =</span> <span class="st">"blues"</span></span>
<span id="cb25-6"><a href="#cb25-6" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb25-7"><a href="#cb25-7" aria-hidden="true" tabindex="-1"></a>h1</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Manual_files/figure-html/unnamed-chunk-22-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p><strong>Resultado esperado.</strong> Mapa de calor con filas alfabéticas y columnas 2020…2025, la progresión “blues” facilita distinguir niveles sin saturar.</p>
</section>
<section id="enfoque-en-la-foto-más-reciente-orden-por-última-edición" class="level3">
<h3 class="anchored" data-anchor-id="enfoque-en-la-foto-más-reciente-orden-por-última-edición"><strong>2) Enfoque en la foto más reciente (orden por última edición)</strong></h3>
<p><strong>Se desea lo siguiente:</strong> ordenar las regiones según su valor en la edición más reciente del rango.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a>h2 <span class="ot">&lt;-</span> <span class="fu">general_heatmap</span>(</span>
<span id="cb26-2"><a href="#cb26-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">ediciones =</span> <span class="dv">2019</span><span class="sc">:</span><span class="dv">2025</span>,</span>
<span id="cb26-3"><a href="#cb26-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">regiones  =</span> <span class="st">"ALL"</span>,</span>
<span id="cb26-4"><a href="#cb26-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">ordenar   =</span> <span class="st">"por_ultimo"</span>,</span>
<span id="cb26-5"><a href="#cb26-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">paleta    =</span> <span class="st">"viridis"</span>,</span>
<span id="cb26-6"><a href="#cb26-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">mostrar_leyenda =</span> <span class="cn">TRUE</span></span>
<span id="cb26-7"><a href="#cb26-7" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb26-8"><a href="#cb26-8" aria-hidden="true" tabindex="-1"></a>h2</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Manual_files/figure-html/unnamed-chunk-23-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p><strong>Resultado esperado.</strong> Filas ordenadas de mayor a menor <strong>según 2025</strong>, útil para destacar posiciones actuales y evaluar trayectorias relativas.</p>
</section>
<section id="subconjunto-con-grupo-y-exclusión-anotando-valores" class="level3">
<h3 class="anchored" data-anchor-id="subconjunto-con-grupo-y-exclusión-anotando-valores"><strong>3) Subconjunto con grupo y exclusión (anotando valores)</strong></h3>
<p><strong>Se desea lo siguiente:</strong> comparar solo la <strong>costa</strong> excluyendo <strong>Lima</strong>* y <strong>anotar</strong> los puntajes para un seguimiento fino.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a>h3 <span class="ot">&lt;-</span> <span class="fu">general_heatmap</span>(</span>
<span id="cb27-2"><a href="#cb27-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">ediciones =</span> <span class="dv">2021</span><span class="sc">:</span><span class="dv">2025</span>,</span>
<span id="cb27-3"><a href="#cb27-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">regiones  =</span> <span class="fu">c</span>(<span class="st">"gr_costa"</span>, <span class="st">"-Lima*"</span>),</span>
<span id="cb27-4"><a href="#cb27-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">ordenar   =</span> <span class="st">"por_promedio"</span>,</span>
<span id="cb27-5"><a href="#cb27-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">paleta    =</span> <span class="st">"cividis"</span>,</span>
<span id="cb27-6"><a href="#cb27-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">anotar    =</span> <span class="cn">TRUE</span>,</span>
<span id="cb27-7"><a href="#cb27-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">mostrar_leyenda =</span> <span class="cn">TRUE</span></span>
<span id="cb27-8"><a href="#cb27-8" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb27-9"><a href="#cb27-9" aria-hidden="true" tabindex="-1"></a>h3</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Manual_files/figure-html/unnamed-chunk-24-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p><strong>Resultado esperado.</strong> Filas ordenadas por el <strong>promedio 2021–2025</strong> de la costa <strong>sin Lima</strong>*, con valores impresos en cada celda, la paleta “cividis” favorece la distinguibilidad en proyección.</p>
</section>
<section id="corte-enfocado-con-códigosnombres-y-contraste-alto" class="level3">
<h3 class="anchored" data-anchor-id="corte-enfocado-con-códigosnombres-y-contraste-alto"><strong>4) Corte enfocado con códigos/nombres y contraste alto</strong></h3>
<p><strong>Se desea lo siguiente:</strong> mostrar 2022–2025 para un subconjunto mixto (códigos + nombres) con contraste cromático alto.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a>h4 <span class="ot">&lt;-</span> <span class="fu">general_heatmap</span>(</span>
<span id="cb28-2"><a href="#cb28-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">ediciones =</span> <span class="dv">2022</span><span class="sc">:</span><span class="dv">2025</span>,</span>
<span id="cb28-3"><a href="#cb28-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">regiones  =</span> <span class="fu">c</span>(<span class="st">"MOQ"</span>, <span class="st">"Arequipa"</span>, <span class="st">"La Libertad"</span>, <span class="st">"Cusco"</span>),</span>
<span id="cb28-4"><a href="#cb28-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">ordenar   =</span> <span class="st">"por_ultimo"</span>,</span>
<span id="cb28-5"><a href="#cb28-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">paleta    =</span> <span class="st">"magma"</span>,</span>
<span id="cb28-6"><a href="#cb28-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">anotar    =</span> <span class="cn">FALSE</span></span>
<span id="cb28-7"><a href="#cb28-7" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in general_heatmap(ediciones = 2022:2025, regiones = c("MOQ",
"Arequipa", : Solo 4 regiones: la interpretación puede ser limitada.</code></pre>
</div>
<div class="sourceCode cell-code" id="cb30"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a>h4</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Manual_files/figure-html/unnamed-chunk-25-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p><strong>Resultado esperado.</strong> Mapa compacto que prioriza la lectura por <strong>última edición</strong> y resalta extremos con “magma”, útil para resúmenes ejecutivos.</p>
</section>
<section id="serie-discontinua-de-ediciones-con-orden-por-promedio" class="level3">
<h3 class="anchored" data-anchor-id="serie-discontinua-de-ediciones-con-orden-por-promedio"><strong>5) Serie discontinua de ediciones con orden por promedio</strong></h3>
<p><strong>Se desea lo siguiente:</strong> evaluar un patrón <strong>no anual</strong> (años alternos) y ordenar por <strong>desempeño sostenido</strong>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb31"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a>h5 <span class="ot">&lt;-</span> <span class="fu">general_heatmap</span>(</span>
<span id="cb31-2"><a href="#cb31-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">ediciones =</span> <span class="fu">c</span>(<span class="dv">2017</span>, <span class="dv">2019</span>, <span class="dv">2021</span>, <span class="dv">2023</span>, <span class="dv">2025</span>),</span>
<span id="cb31-3"><a href="#cb31-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">regiones  =</span> <span class="st">"ALL"</span>,</span>
<span id="cb31-4"><a href="#cb31-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">ordenar   =</span> <span class="st">"por_promedio"</span>,</span>
<span id="cb31-5"><a href="#cb31-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">paleta    =</span> <span class="st">"viridis"</span>,</span>
<span id="cb31-6"><a href="#cb31-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">anotar    =</span> <span class="cn">FALSE</span>,</span>
<span id="cb31-7"><a href="#cb31-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">mostrar_leyenda =</span> <span class="cn">TRUE</span></span>
<span id="cb31-8"><a href="#cb31-8" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb31-9"><a href="#cb31-9" aria-hidden="true" tabindex="-1"></a>h5</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Manual_files/figure-html/unnamed-chunk-26-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p><strong>Resultado esperado.</strong> Filas ordenadas por el <strong>promedio</strong> en una serie discontinua, lo que ayuda a identificar regiones con <strong>rendimiento consistente</strong> a lo largo del tiempo.</p>
</section>
</section>
</section>
<section id="general_largo" class="level1">
<h1><strong>general_largo()</strong></h1>
<p><strong>Evolución del puntaje General (líneas) por región y/o por pilar</strong></p>
<p>Esta función integra la familia de visualizaciones general_* y está diseñada para <strong>series de tiempo</strong> del <strong>puntaje General (0–10)</strong> del INCORE cuando se dispone de <strong>dos o más ediciones</strong>. Ofrece dos enfoques complementarios:</p>
<ul>
<li><p>modo = “general”: una <strong>línea por región</strong> del <strong>índice general</strong> (filas cuyo pilar inicia con “Índice de Competitividad Regional” e indicador == “General”).</p></li>
<li><p>modo = “pilares”: <strong>líneas por región</strong> con <strong>facetado por pilar</strong>, utilizando indicador == “General” en cada pilar.</p></li>
</ul>
<section id="introducción-5" class="level2">
<h2 class="anchored" data-anchor-id="introducción-5"><strong>Introducción</strong></h2>
<p>general_largo() resuelve la necesidad de <strong>observar trayectorias</strong>: cómo evolucionan las regiones en el <strong>índice general</strong> o, alternativamente, cómo se mueven <strong>en cada pilar</strong> a lo largo del tiempo. Es especialmente útil para identificar <strong>convergencias</strong> o <strong>divergencias</strong> regionales, <strong>rupturas</strong> (cambios abruptos entre ediciones), <strong>persistencias</strong> (tendencias sostenidas) y <strong>liderazgos</strong> emergentes. En modo = “pilares”, el <strong>facetado</strong> permite comparar, en paralelo, si la historia de una misma región es similar o distinta según el pilar considerado. El eje vertical se mantiene en <strong>0–10</strong> para asegurar comparabilidad, y la estética de color por región preserva la identidad visual en todas las ediciones.</p>
<p>El argumento usar_codigos (secundario) facilita la <strong>traducción de códigos</strong> a nombres oficiales en regiones/pilares para mantener consistencia editorial y legibilidad en etiquetas y leyendas.</p>
</section>
<section id="parámetros-explicación-y-opciones-1" class="level2">
<h2 class="anchored" data-anchor-id="parámetros-explicación-y-opciones-1"><strong>Parámetros (explicación y opciones)</strong></h2>
<p>El uso práctico se apoya en tres decisiones: (i) <strong>rango de ediciones</strong> a estudiar, (ii) <strong>nivel de análisis</strong> (índice general vs.&nbsp;pilares) y (iii) <strong>universo de regiones</strong> (total o subconjunto). Sobre estas, se elige la <strong>paleta</strong> y si conviene <strong>marcar puntos</strong> en las líneas.</p>
<ul>
<li><p><strong>ediciones</strong>: determina las <strong>ediciones (años)</strong> a graficar, requiere <strong>al menos dos</strong>.</p>
<p>Opciones y formato:</p>
<ul>
<li><p>integer vector con longitud ≥ 2</p></li>
<li><p>Rangos: 2020:2025</p></li>
<li><p>Discretos: c(2018, 2020, 2022, 2024)</p></li>
</ul></li>
<li><p><strong>regiones</strong>: define el <strong>universo regional</strong>, admite nombres, códigos, <strong>grupos gr_*</strong> y <strong>exclusiones</strong> con prefijo “-”.</p>
<p>Opciones y formato:</p>
<ul>
<li><p>“ALL” (todas las regiones)</p></li>
<li><p>c(“REGION1”, “REGION2”)</p></li>
<li><p>c(“COD1”, “COD2”)</p></li>
<li><p>c(“gr_costa”, “gr_sierra”, “gr_selva”)</p></li>
<li><p>Exclusiones: “-Lima*”</p></li>
<li><p>Combinaciones mixtas: c(“gr_costa”, “La Libertad”, “-Lima*”)</p></li>
</ul></li>
<li><p><strong>modo</strong>: establece el <strong>nivel de análisis</strong> temporal.</p>
<p>Opciones y formato:</p>
<ul>
<li><p>“general” (una línea por región, índice general)</p></li>
<li><p>“pilares” (líneas por región, <strong>facetado</strong> por los seis pilares)</p></li>
</ul></li>
<li><p><strong>pilares</strong> <em>(solo si modo = “pilares”)</em>: restringe el <strong>conjunto de pilares</strong> a graficar, admite <strong>nombres</strong> y <strong>códigos</strong>.</p>
<p>Opciones y formato:</p>
<ul>
<li><p>NULL (por defecto: los 6 pilares canónicos)</p></li>
<li><p>Nombres: c(“Salud”, “Infraestructura”, “Educación”)</p></li>
<li><p>Códigos: c(“SAL”, “INF”, “EDU”)</p></li>
<li><p>Mezcla: c(“SAL”, “Educación”, “INF”)</p></li>
</ul></li>
<li><p><strong>paleta</strong>: paleta <strong>cualitativa</strong> para colorear <strong>por región</strong>.</p>
<p>Opciones y formato:</p>
<ul>
<li><p>“ipe” (por defecto, institucional)</p></li>
<li><p>“okabe_ito” (accesible para daltonismo)</p></li>
<li><p>“viridis” (perceptualmente uniforme)</p></li>
</ul></li>
<li><p><strong>mostrar_puntos</strong>: decide si <strong>marcar puntos</strong> en cada edición sobre las líneas.</p>
<p>Opciones y formato:</p>
<ul>
<li><p>TRUE (por defecto)</p></li>
<li><p>FALSE</p></li>
</ul></li>
</ul>
</section>
<section id="explicación-conceptual-5" class="level2">
<h2 class="anchored" data-anchor-id="explicación-conceptual-5"><strong>Explicación conceptual</strong></h2>
<p>La función <strong>lee</strong> el conjunto de ediciones solicitado, <strong>filtra</strong> a indicador == “General” y, según el modo, conserva ya sea el <strong>índice general</strong> (pilar agregado de portada) o los <strong>seis pilares canónicos</strong>. Para regiones, resuelve <strong>grupos gr_*</strong> y <strong>exclusiones</strong>. El color asignado <strong>por región</strong> se mantiene consistente entre ediciones, y el eje <strong>0–10</strong> preserva la escala del INCORE.</p>
<p>En modo = “general”, las regiones se <strong>ordenan</strong> tomando la <strong>última edición</strong> del rango (útil para resaltar la situación más reciente en la leyenda y facilitar la lectura de líderes y rezagados). En modo = “pilares”, el <strong>facetado</strong> (facet_wrap) organiza las series en paneles por pilar, lo que permite leer <strong>patrones simultáneos</strong> con un mismo código cromático por región.</p>
</section>
<section id="ejemplos-4" class="level2">
<h2 class="anchored" data-anchor-id="ejemplos-4"><strong>Ejemplos</strong></h2>
<blockquote class="blockquote">
<p>Se asume el paquete cargado y dependencias disponibles (ggplot2, etc.). Los ejemplos exploran <strong>características propias del paquete</strong>: grupos gr_*, exclusiones por patrón, mezcla de nombres/códigos de pilar, facetado y elección de paleta.</p>
</blockquote>
<section id="evolución-del-índice-general-para-todas-las-regiones-se-desea-lo-siguiente-visualizar-la-evolución-20192025-del-índice-general-para-el-país-con-puntos-marcados-en-cada-edición." class="level3">
<h3 class="anchored" data-anchor-id="evolución-del-índice-general-para-todas-las-regiones-se-desea-lo-siguiente-visualizar-la-evolución-20192025-del-índice-general-para-el-país-con-puntos-marcados-en-cada-edición."><strong>1) Evolución del índice general para todas las regiones Se desea lo siguiente:</strong> visualizar la evolución 2019–2025 del índice general para el país, con puntos marcados en cada edición.</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb32"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a>e1 <span class="ot">&lt;-</span> <span class="fu">general_largo</span>(</span>
<span id="cb32-2"><a href="#cb32-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">ediciones =</span> <span class="dv">2019</span><span class="sc">:</span><span class="dv">2025</span>,</span>
<span id="cb32-3"><a href="#cb32-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">regiones  =</span> <span class="st">"ALL"</span>,</span>
<span id="cb32-4"><a href="#cb32-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">modo      =</span> <span class="st">"general"</span>,</span>
<span id="cb32-5"><a href="#cb32-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">paleta    =</span> <span class="st">"ipe"</span>,</span>
<span id="cb32-6"><a href="#cb32-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">mostrar_puntos =</span> <span class="cn">TRUE</span></span>
<span id="cb32-7"><a href="#cb32-7" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb32-8"><a href="#cb32-8" aria-hidden="true" tabindex="-1"></a>e1</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Manual_files/figure-html/unnamed-chunk-27-1.png" class="img-fluid figure-img" width="960"></p>
</figure>
</div>
</div>
</div>
<p><strong>Resultado esperado.</strong> Una línea por región (índice general), escala 0–10, puntos visibles y <strong>orden en leyenda</strong> acorde a la <strong>última edición</strong>.</p>
</section>
<section id="pilares-con-facetado-completo-y-paleta-accesible" class="level3">
<h3 class="anchored" data-anchor-id="pilares-con-facetado-completo-y-paleta-accesible"><strong>2)Pilares con facetado completo y paleta accesible</strong></h3>
<p><strong>Se desea lo siguiente:</strong> observar trayectorias por pilar (los seis paneles)</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb33"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a>e2 <span class="ot">&lt;-</span> <span class="fu">general_largo</span>(</span>
<span id="cb33-2"><a href="#cb33-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">ediciones =</span> <span class="dv">2020</span><span class="sc">:</span><span class="dv">2025</span>,</span>
<span id="cb33-3"><a href="#cb33-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">regiones  =</span> <span class="fu">c</span>(<span class="st">"gr_selva"</span>),</span>
<span id="cb33-4"><a href="#cb33-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">modo      =</span> <span class="st">"pilares"</span>,</span>
<span id="cb33-5"><a href="#cb33-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">paleta    =</span> <span class="st">"okabe_ito"</span>,</span>
<span id="cb33-6"><a href="#cb33-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">mostrar_puntos =</span> <span class="cn">TRUE</span></span>
<span id="cb33-7"><a href="#cb33-7" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb33-8"><a href="#cb33-8" aria-hidden="true" tabindex="-1"></a>e2</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Manual_files/figure-html/unnamed-chunk-28-1.png" class="img-fluid figure-img" width="960"></p>
</figure>
</div>
</div>
</div>
<p><strong>Resultado esperado.</strong> Seis paneles (pilares), una línea por región en cada panel.</p>
</section>
<section id="subconjunto-territorial-con-grupo-y-exclusión" class="level3">
<h3 class="anchored" data-anchor-id="subconjunto-territorial-con-grupo-y-exclusión"><strong>3) Subconjunto territorial con grupo y exclusión</strong></h3>
<p><strong>Se desea lo siguiente:</strong> comparar la evolución del índice general solo para la <strong>costa</strong>, <strong>excluyendo Lima</strong>*, con una paleta perceptual robusta.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb34"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a>e3 <span class="ot">&lt;-</span> <span class="fu">general_largo</span>(</span>
<span id="cb34-2"><a href="#cb34-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">ediciones =</span> <span class="dv">2016</span><span class="sc">:</span><span class="dv">2025</span>,</span>
<span id="cb34-3"><a href="#cb34-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">regiones  =</span> <span class="fu">c</span>(<span class="st">"gr_costa"</span>, <span class="st">"-Lima*"</span>),</span>
<span id="cb34-4"><a href="#cb34-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">modo      =</span> <span class="st">"general"</span>,</span>
<span id="cb34-5"><a href="#cb34-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">paleta    =</span> <span class="st">"viridis"</span>,</span>
<span id="cb34-6"><a href="#cb34-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">mostrar_puntos =</span> <span class="cn">FALSE</span></span>
<span id="cb34-7"><a href="#cb34-7" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb34-8"><a href="#cb34-8" aria-hidden="true" tabindex="-1"></a>e3</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Manual_files/figure-html/unnamed-chunk-29-1.png" class="img-fluid figure-img" width="960"></p>
</figure>
</div>
</div>
</div>
<p><strong>Resultado esperado.</strong> Líneas más claras en el subconjunto costero sin Lima*, con <strong>trazos limpios</strong> (sin puntos) para enfatizar tendencia.</p>
</section>
<section id="pilares-seleccionados-mezclando-nombres-y-códigos" class="level3">
<h3 class="anchored" data-anchor-id="pilares-seleccionados-mezclando-nombres-y-códigos"><strong>4)Pilares seleccionados mezclando nombres y códigos</strong></h3>
<p><strong>Se desea lo siguiente:</strong> analizar solo <strong>Salud</strong>, <strong>Infraestructura</strong> y <strong>Educación</strong> combinando nombres y códigos de pilar.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb35"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb35-1"><a href="#cb35-1" aria-hidden="true" tabindex="-1"></a>e4 <span class="ot">&lt;-</span> <span class="fu">general_largo</span>(</span>
<span id="cb35-2"><a href="#cb35-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">ediciones =</span> <span class="dv">2020</span><span class="sc">:</span><span class="dv">2025</span>,</span>
<span id="cb35-3"><a href="#cb35-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">regiones  =</span> <span class="fu">c</span>(<span class="st">"gr_costa"</span>, <span class="st">"-Lima*"</span>),</span>
<span id="cb35-4"><a href="#cb35-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">modo      =</span> <span class="st">"pilares"</span>,</span>
<span id="cb35-5"><a href="#cb35-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">pilares   =</span> <span class="fu">c</span>(<span class="st">"SAL"</span>, <span class="st">"Infraestructura"</span>, <span class="st">"EDU"</span>),</span>
<span id="cb35-6"><a href="#cb35-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">paleta    =</span> <span class="st">"ipe"</span>,</span>
<span id="cb35-7"><a href="#cb35-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">mostrar_puntos =</span> <span class="cn">TRUE</span></span>
<span id="cb35-8"><a href="#cb35-8" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb35-9"><a href="#cb35-9" aria-hidden="true" tabindex="-1"></a>e4</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Manual_files/figure-html/unnamed-chunk-30-1.png" class="img-fluid figure-img" width="960"></p>
</figure>
</div>
</div>
</div>
<p><strong>Resultado esperado.</strong> Facetado con <strong>tres paneles</strong> (Salud, Infraestructura, Educación), respetando el color por región e identificando <strong>contrastes</strong> en la dinámica por dimensión.</p>
</section>
<section id="serie-discontinua-y-bloque-mixto-de-regiones" class="level3">
<h3 class="anchored" data-anchor-id="serie-discontinua-y-bloque-mixto-de-regiones"><strong>5) Serie discontinua y bloque mixto de regiones</strong></h3>
<p><strong>Se desea lo siguiente:</strong> estudiar un patrón <strong>no anual</strong> (ediciones alternas) y centrarse en un <strong>bloque mixto</strong> de regiones.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb36"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a>e5 <span class="ot">&lt;-</span> <span class="fu">general_largo</span>(</span>
<span id="cb36-2"><a href="#cb36-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">ediciones =</span> <span class="fu">c</span>(<span class="dv">2016</span>, <span class="dv">2018</span>, <span class="dv">2020</span>, <span class="dv">2022</span>, <span class="dv">2024</span>),</span>
<span id="cb36-3"><a href="#cb36-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">regiones  =</span> <span class="fu">c</span>(<span class="st">"gr_sierra"</span>, <span class="st">"Arequipa"</span>, <span class="st">"La Libertad"</span>),</span>
<span id="cb36-4"><a href="#cb36-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">modo      =</span> <span class="st">"general"</span>,</span>
<span id="cb36-5"><a href="#cb36-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">paleta    =</span> <span class="st">"okabe_ito"</span>,</span>
<span id="cb36-6"><a href="#cb36-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">mostrar_puntos =</span> <span class="cn">TRUE</span></span>
<span id="cb36-7"><a href="#cb36-7" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb36-8"><a href="#cb36-8" aria-hidden="true" tabindex="-1"></a>e5</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Manual_files/figure-html/unnamed-chunk-31-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p><strong>Resultado esperado.</strong> Evolución en <strong>años alternos</strong> para un conjunto formado por <strong>grupo</strong> + <strong>regiones puntuales</strong>, los puntos facilitan comparar niveles en las ediciones muestreadas.</p>
<p>Perfecto. Aquí tienes el texto <strong>detallado, narrativo y didáctico</strong> para tu manual sobre <strong>general_mapa()</strong>, con los <strong>parámetros clave en viñetas</strong> (todas las opciones y valores envueltos en ``) y <strong>5 ejemplos</strong> claros que exploran funcionalidades propias del paquete (grupos gr_*, exclusiones con `”-”`, zoom a subconjuntos, etiquetas y paletas continuas/divergentes). Mantengo `usar_codigos` como argumento secundario.</p>
</section>
</section>
</section>
<section id="general_mapa" class="level1">
<h1><strong>general_mapa()</strong></h1>
<p><strong>—Mapa coroplético del puntaje General por región (una edición)</strong></p>
<section id="introducción-6" class="level2">
<h2 class="anchored" data-anchor-id="introducción-6"><strong>Introducción</strong></h2>
<p>general_mapa() resuelve la necesidad de <strong>ubicar espacialmente</strong> los resultados del <strong>Índice de Competitividad Regional (INCORE)</strong> en <strong>una edición</strong> específica. A diferencia de un ranking o una dispersión, el coroplético prioriza la <strong>lectura territorial</strong>: permite reconocer <strong>patrones geográficos</strong> (continuidades, gradientes, contrastes) y detectar <strong>bolsones de alto o bajo desempeño</strong>. La función colorea cada región según su <strong>puntaje General (0–10)</strong> y utiliza exclusivamente filas cuyo pilar <strong>comienza con</strong> “Índice de Competitividad Regional”, garantizando que se represente el <strong>índice general</strong> y no un pilar. El subtítulo fija el contexto temporal con “Puntaje General (YYYY)”, reforzando la idea de <strong>corte temporal</strong>.</p>
</section>
<section id="parámetros-4" class="level2">
<h2 class="anchored" data-anchor-id="parámetros-4"><strong>Parámetros</strong></h2>
<p>El uso práctico combina tres decisiones: (i) <strong>qué edición</strong> se desea mostrar, (ii) <strong>qué regiones</strong> incluir (todas o un subconjunto, con soporte a <strong>grupos</strong> y <strong>exclusiones</strong>), y (iii) <strong>cómo</strong> presentar la figura (paleta, etiquetas, y <strong>zoom</strong> opcional sobre un subconjunto). Si no se proporciona un objeto espacial, la función construye uno adecuado para el Perú.</p>
<ul>
<li><p><strong>edicion</strong>: fija la <strong>edición (año)</strong> a representar, debe ser un único valor numérico.</p>
<p>Opciones y formato:</p>
<ul>
<li><p>integer(1)</p></li>
<li><p>2016 … 2025</p></li>
</ul></li>
<li><p><strong>regiones</strong>: delimita el <strong>universo de regiones</strong>, admite nombres, códigos, <strong>grupos gr_*</strong> e <strong>inclusiones/exclusiones</strong> por patrón.</p>
<p>Opciones y formato:</p>
<ul>
<li><p>“ALL” (todas las regiones)</p></li>
<li><p>c(“REGION1”, “REGION2”)</p></li>
<li><p>c(“COD1”, “COD2”)</p></li>
<li><p>c(“gr_costa”, “gr_sierra”, “gr_selva”)</p></li>
<li><p>Exclusiones: “-Lima*”</p></li>
<li><p>Combinaciones mixtas: c(“gr_costa”, “La Libertad”, “-Lima*”)</p></li>
</ul></li>
<li><p><strong>mapa_sf</strong>: objeto espacial con columnas “region” y “geometry”.</p>
<p>Opciones y formato:</p>
<ul>
<li><p>NULL (por defecto, se crea con mapa_peru())</p></li>
<li><p>sf o SpatVector convertible a sf con st_as_sf()</p></li>
</ul></li>
<li><p><strong>paleta</strong>: controla la <strong>escala continua</strong> de color (0–10).</p>
<p>Opciones y formato:</p>
<ul>
<li><p>“blues” (por defecto, progresión fría sobria)</p></li>
<li><p>“greens” (alternativa sobria en verdes)</p></li>
<li><p>“viridis” (perceptualmente uniforme)</p></li>
<li><p>“cividis” (robusta en proyección e impresión)</p></li>
<li><p>“divergente” (bicolor con punto medio en 5, útil para “por encima/por debajo”)</p></li>
</ul></li>
<li><p><strong>simplificar</strong>: tolerancia de <strong>simplificación geométrica</strong> (al crear mapa_peru()) para aligerar el dibujo.</p>
<p>Opciones y formato:</p>
<ul>
<li><p>0 (sin simplificar, por defecto)</p></li>
<li><p>&gt; 0 (mayores valores ⇒ geometrías más simples)</p></li>
</ul></li>
<li><p><strong>zoom</strong>: decide si <strong>recortar la vista</strong> al <em>bounding box</em> del subconjunto <strong>seleccionado</strong> en regiones.</p>
<p>Opciones y formato:</p>
<ul>
<li><p>FALSE (por defecto, vista nacional)</p></li>
<li><p>TRUE (activa zoom si regiones ≠ “ALL”)</p></li>
</ul></li>
<li><p><strong>expand_zoom</strong>: margen <strong>proporcional</strong> alrededor del <em>bounding box</em> cuando zoom = TRUE.</p>
<p>Opciones y formato:</p>
<ul>
<li><p>0.04 (por defecto)</p></li>
<li><p>0 … 0.2 (aprox., según preferencia de encuadre)</p></li>
</ul></li>
<li><p><strong>etiquetas</strong>: controla cómo <strong>anotar los valores</strong> dentro de cada región.</p>
<p>Opciones y formato:</p>
<ul>
<li><p>“repel” (por defecto, usa ggrepel si está disponible)</p></li>
<li><p>“texto” (etiquetas directas con geom_text)</p></li>
<li><p>“ninguna” (sin etiquetas internas)</p></li>
</ul></li>
</ul>
<p>El parámetro <strong>usar_codigos</strong> es operativo: cuando es TRUE, la función <strong>traduce códigos</strong> a nombres oficiales para mantener consistencia editorial en el mapa y las etiquetas. Mantenerlo activado suele ser lo más conveniente.</p>
</section>
<section id="explicación-conceptual-6" class="level2">
<h2 class="anchored" data-anchor-id="explicación-conceptual-6"><strong>Explicación conceptual</strong></h2>
<p>La función <strong>lee</strong> la edición solicitada, <strong>filtra</strong> únicamente el <strong>índice general</strong> (excluyendo “Perú” para conservar el foco subnacional) y, si se especificó regiones, <strong>expande grupos</strong> gr_* y <strong>aplica exclusiones</strong>. Antes de mapear, <strong>consolida</strong> un único valor por región (promedio defensivo y redondeo), y <strong>une</strong> los datos al objeto espacial. Cuando se establece un subconjunto, el resto de regiones quedan con <strong>NA</strong> y se dibujan en <strong>gris</strong> para no inducir comparaciones donde no hay dato mostrado. La <strong>paleta continua</strong> fija los límites en <strong>0–10</strong>, y las <strong>etiquetas</strong> (si se activan) se colocan sobre puntos internos de cada polígono, favoreciendo la legibilidad. El <strong>zoom opcional</strong> centra la vista en el subconjunto, con un margen expand_zoom para evitar recortes visuales.</p>
</section>
<section id="ejemplos-5" class="level2">
<h2 class="anchored" data-anchor-id="ejemplos-5"><strong>Ejemplos</strong></h2>
<section id="mapa-nacional-básico-paleta-por-defecto" class="level3">
<h3 class="anchored" data-anchor-id="mapa-nacional-básico-paleta-por-defecto"><strong>1) Mapa nacional básico (paleta por defecto)</strong></h3>
<p><strong>Se desea lo siguiente:</strong> representar el <strong>índice general</strong> en una edición reciente para <strong>todas</strong> las regiones.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb37"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb37-1"><a href="#cb37-1" aria-hidden="true" tabindex="-1"></a>m1 <span class="ot">&lt;-</span> <span class="fu">general_mapa</span>(</span>
<span id="cb37-2"><a href="#cb37-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">edicion  =</span> <span class="dv">2025</span>,</span>
<span id="cb37-3"><a href="#cb37-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">regiones =</span> <span class="st">"ALL"</span>,</span>
<span id="cb37-4"><a href="#cb37-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">paleta   =</span> <span class="st">"blues"</span>,</span>
<span id="cb37-5"><a href="#cb37-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">etiquetas =</span> <span class="st">"repel"</span></span>
<span id="cb37-6"><a href="#cb37-6" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in st_point_on_surface.sfc(sf_join$geometry): st_point_on_surface may
not give correct results for longitude/latitude data</code></pre>
</div>
<div class="sourceCode cell-code" id="cb39"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb39-1"><a href="#cb39-1" aria-hidden="true" tabindex="-1"></a>m1</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Manual_files/figure-html/unnamed-chunk-32-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p><strong>Resultado esperado.</strong> Coroplético nacional 0–10 con subtítulo “Puntaje General (2025)”, etiquetas discretas y leyenda visible.</p>
</section>
<section id="subconjunto-por-grupo-con-zoom-automático" class="level3">
<h3 class="anchored" data-anchor-id="subconjunto-por-grupo-con-zoom-automático"><strong>2) Subconjunto por grupo con zoom automático</strong></h3>
<p><strong>Se desea lo siguiente:</strong> concentrar la lectura en <strong>costa</strong>, con recorte automático del encuadre.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb40"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb40-1"><a href="#cb40-1" aria-hidden="true" tabindex="-1"></a>m2 <span class="ot">&lt;-</span> <span class="fu">general_mapa</span>(</span>
<span id="cb40-2"><a href="#cb40-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">edicion   =</span> <span class="dv">2025</span>,</span>
<span id="cb40-3"><a href="#cb40-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">regiones  =</span> <span class="fu">c</span>(<span class="st">"gr_costa"</span>),</span>
<span id="cb40-4"><a href="#cb40-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">paleta    =</span> <span class="st">"viridis"</span>,</span>
<span id="cb40-5"><a href="#cb40-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">zoom      =</span> <span class="cn">TRUE</span>,</span>
<span id="cb40-6"><a href="#cb40-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">expand_zoom =</span> <span class="fl">0.05</span>,</span>
<span id="cb40-7"><a href="#cb40-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">etiquetas =</span> <span class="st">"repel"</span></span>
<span id="cb40-8"><a href="#cb40-8" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in st_point_on_surface.sfc(sf_join$geometry): st_point_on_surface may
not give correct results for longitude/latitude data</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Coordinate system already present. Adding new coordinate system, which will
replace the existing one.</code></pre>
</div>
<div class="sourceCode cell-code" id="cb43"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb43-1"><a href="#cb43-1" aria-hidden="true" tabindex="-1"></a>m2</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Manual_files/figure-html/unnamed-chunk-33-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p><strong>Resultado esperado.</strong> Vista recortada a la <strong>costa</strong>, paleta “viridis” y etiquetas repel que evitan solapamientos.</p>
</section>
<section id="subconjunto-mixto-con-exclusión-y-etiquetas-simples" class="level3">
<h3 class="anchored" data-anchor-id="subconjunto-mixto-con-exclusión-y-etiquetas-simples"><strong>3) Subconjunto mixto con exclusión y etiquetas simples</strong></h3>
<p><strong>Se desea lo siguiente:</strong> mostrar un bloque mixto (grupo + regiones puntuales) <strong>excluyendo Lima</strong>* y usar etiquetas simples.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb44"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb44-1"><a href="#cb44-1" aria-hidden="true" tabindex="-1"></a>m3 <span class="ot">&lt;-</span> <span class="fu">general_mapa</span>(</span>
<span id="cb44-2"><a href="#cb44-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">edicion   =</span> <span class="dv">2025</span>,</span>
<span id="cb44-3"><a href="#cb44-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">regiones  =</span> <span class="fu">c</span>(<span class="st">"gr_sierra"</span>, <span class="st">"Arequipa"</span>, <span class="st">"La Libertad"</span>, <span class="st">"-Lima*"</span>),</span>
<span id="cb44-4"><a href="#cb44-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">paleta    =</span> <span class="st">"cividis"</span>,</span>
<span id="cb44-5"><a href="#cb44-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">zoom      =</span> <span class="cn">TRUE</span>,</span>
<span id="cb44-6"><a href="#cb44-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">etiquetas =</span> <span class="st">"texto"</span></span>
<span id="cb44-7"><a href="#cb44-7" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in st_point_on_surface.sfc(sf_join$geometry): st_point_on_surface may
not give correct results for longitude/latitude data</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Coordinate system already present. Adding new coordinate system, which will
replace the existing one.</code></pre>
</div>
<div class="sourceCode cell-code" id="cb47"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb47-1"><a href="#cb47-1" aria-hidden="true" tabindex="-1"></a>m3</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Manual_files/figure-html/unnamed-chunk-34-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p><strong>Resultado esperado.</strong> Coroplético del subconjunto, <strong>sin Lima</strong>*, con etiquetas directas y encuadre ajustado al bloque.</p>
</section>
<section id="paleta-divergente-para-lectura-por-encima-por-debajo" class="level3">
<h3 class="anchored" data-anchor-id="paleta-divergente-para-lectura-por-encima-por-debajo"><strong>4) Paleta divergente para lectura “por encima / por debajo”</strong></h3>
<p><strong>Se desea lo siguiente:</strong> enfatizar si las regiones están por <strong>encima</strong> o <strong>debajo</strong> de un punto medio (5).</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb48"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb48-1"><a href="#cb48-1" aria-hidden="true" tabindex="-1"></a>m4 <span class="ot">&lt;-</span> <span class="fu">general_mapa</span>(</span>
<span id="cb48-2"><a href="#cb48-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">edicion   =</span> <span class="dv">2025</span>,</span>
<span id="cb48-3"><a href="#cb48-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">regiones  =</span> <span class="st">"ALL"</span>,</span>
<span id="cb48-4"><a href="#cb48-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">paleta    =</span> <span class="st">"divergente"</span>,</span>
<span id="cb48-5"><a href="#cb48-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">etiquetas =</span> <span class="st">"ninguna"</span></span>
<span id="cb48-6"><a href="#cb48-6" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in st_point_on_surface.sfc(sf_join$geometry): st_point_on_surface may
not give correct results for longitude/latitude data</code></pre>
</div>
<div class="sourceCode cell-code" id="cb50"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb50-1"><a href="#cb50-1" aria-hidden="true" tabindex="-1"></a>m4</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Manual_files/figure-html/unnamed-chunk-35-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p><strong>Resultado esperado.</strong> Paleta bicolor con <strong>midpoint = 5</strong>: útil para lecturas rápidas tipo “alto/bajo” respecto de un umbral simbólico.</p>
</section>
<section id="mapa-ligero-para-informes-simplificación-geométrica" class="level3">
<h3 class="anchored" data-anchor-id="mapa-ligero-para-informes-simplificación-geométrica"><strong>5) Mapa ligero para informes: simplificación geométrica</strong></h3>
<p><strong>Se desea lo siguiente:</strong> optimizar tiempos de renderizado manteniendo el diseño sobrio.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb51"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb51-1"><a href="#cb51-1" aria-hidden="true" tabindex="-1"></a>m5 <span class="ot">&lt;-</span> <span class="fu">general_mapa</span>(</span>
<span id="cb51-2"><a href="#cb51-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">edicion     =</span> <span class="dv">2025</span>,</span>
<span id="cb51-3"><a href="#cb51-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">regiones    =</span> <span class="st">"gr_sur"</span>,</span>
<span id="cb51-4"><a href="#cb51-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">paleta      =</span> <span class="st">"greens"</span>,</span>
<span id="cb51-5"><a href="#cb51-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">simplificar =</span> <span class="fl">0.02</span>,</span>
<span id="cb51-6"><a href="#cb51-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">etiquetas   =</span> <span class="st">"repel"</span>,</span>
<span id="cb51-7"><a href="#cb51-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">zoom =</span> T</span>
<span id="cb51-8"><a href="#cb51-8" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in st_point_on_surface.sfc(sf_join$geometry): st_point_on_surface may
not give correct results for longitude/latitude data</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Coordinate system already present. Adding new coordinate system, which will
replace the existing one.</code></pre>
</div>
<div class="sourceCode cell-code" id="cb54"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb54-1"><a href="#cb54-1" aria-hidden="true" tabindex="-1"></a>m5</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Manual_files/figure-html/unnamed-chunk-36-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p><strong>Resultado esperado.</strong> Geometrías , paleta en verdes y etiquetas repel.</p>
</section>
</section>
<section id="recomendaciones-de-uso-e-interpretación-1" class="level2">
<h2 class="anchored" data-anchor-id="recomendaciones-de-uso-e-interpretación-1"><strong>Recomendaciones de uso e interpretación</strong></h2>
<ul>
<li><p><strong>Elección de paleta.</strong></p>
<ul>
<li><p>Use “blues”/“greens” para informes sobrios y consistentes.</p></li>
<li><p>Prefiera “viridis”/“cividis” cuando la <strong>accesibilidad</strong> y la proyección sean prioritarias.</p></li>
<li><p>Recurra a “divergente” cuando el objetivo sea <strong>comunicar umbrales</strong> (p.&nbsp;ej., por encima/debajo de 5).</p></li>
</ul></li>
<li><p><strong>Zoom con criterio.</strong> Actívelo (zoom = TRUE) al trabajar con <strong>subconjuntos</strong>, ajuste expand_zoom si observa recortes o bordes demasiado justos.</p></li>
</ul>
</section>
</section>
<section id="general_media" class="level1">
<h1><strong>general_media()</strong></h1>
<p><strong>Dispersión del puntaje General (total o de un pilar) frente a un promedio</strong></p>
<p>Su foco es mostrar, en <strong>una edición</strong> del INCORE, cómo se sitúan las <strong>regiones</strong> frente a un <strong>promedio de referencia</strong>. El gráfico representa, en el eje <strong>X</strong>, el <strong>puntaje General (0–10)</strong> y, en el eje <strong>Y</strong>, las <strong>regiones</strong>. Cada región incluye: (i) una <strong>línea</strong> que va desde el <strong>promedio</strong> hasta su valor y (ii) un <strong>punto</strong> en el valor observado, más una <strong>etiqueta</strong> numérica. La referencia central puede ser el <strong>promedio nacional</strong> (todas las regiones) o el <strong>promedio de la selección</strong> (solo las regiones filtradas para el gráfico).</p>
<section id="introducción-7" class="level2">
<h2 class="anchored" data-anchor-id="introducción-7"><strong>Introducción</strong></h2>
<p>general_media() resuelve un problema recurrente en la comunicación de resultados: <strong>ubicar a cada región respecto de un promedio</strong> de referencia. Mientras un ranking ordena, este diseño enfatiza la <strong>distancia a la media</strong> (y su dirección), permitiendo responder preguntas como: ¿qué regiones están <strong>por encima</strong> del promedio y cuáles <strong>por debajo</strong>?, ¿cuán lejos se encuentran?, ¿existe un bloque de regiones en torno al promedio? La función admite trabajar con el <strong>índice general total</strong> o con el <strong>General de un pilar</strong> específico, y ofrece <strong>cinco esquemas de color</strong> que refuerzan diferentes lecturas (binaria, continua divergente, bandas tipo “semáforo”, color por región, o monocromo).</p>
</section>
<section id="parámetros-5" class="level2">
<h2 class="anchored" data-anchor-id="parámetros-5"><strong>Parámetros</strong></h2>
<p>La práctica con general_media() descansa en tres decisiones: (i) <strong>qué se grafica</strong> (general total vs.&nbsp;un pilar), (ii) <strong>qué universo regional</strong> se considera (todas o un subconjunto) y (iii) <strong>qué promedio</strong> funge como referente (nacional vs.&nbsp;selección). Sobre eso, se elige el <strong>esquema de color</strong> que mejor sirva el mensaje.</p>
<ul>
<li><p><strong>edicion</strong>: fija la <strong>edición (año)</strong> a graficar, un único valor numérico.</p>
<p>Opciones y formato:</p>
<ul>
<li><p>integer(1)</p></li>
<li><p>2016 … 2025</p></li>
</ul></li>
<li><p><strong>pilar</strong>: determina el <strong>contenido</strong> a graficar: <strong>índice general total</strong> o <strong>General de un pilar</strong>.</p>
<p>Opciones y formato:</p>
<ul>
<li><p>NULL (por defecto, índice general total, filas cuyo pilar inicia con “Índice de Competitividad Regional”)</p></li>
<li><p>Nombre de pilar: “Salud”, “Educación”, “Infraestructura”, etc.</p></li>
<li><p>Código de pilar: “SAL”, “EDU”, “INF”, etc.</p></li>
</ul></li>
<li><p><strong>regiones</strong>: delimita el <strong>universo de regiones</strong> a representar, admite nombres, códigos, <strong>grupos gr_*</strong> e <strong>inclusiones/exclusiones</strong> por patrón.</p>
<p>Opciones y formato:</p>
<ul>
<li><p>“ALL” (todas las regiones)</p></li>
<li><p>c(“REGION1”, “REGION2”)</p></li>
<li><p>c(“COD1”, “COD2”)</p></li>
<li><p>c(“gr_costa”, “gr_sierra”, “gr_selva”)</p></li>
<li><p>Exclusiones: “-Lima*”</p></li>
<li><p>Mezcla: c(“gr_costa”, “La Libertad”, “-Lima*”)</p></li>
</ul></li>
<li><p><strong>promedio_nacional</strong>: define el <strong>promedio de referencia</strong>.</p>
<p>Opciones y formato:</p>
<ul>
<li><p>FALSE (por defecto, promedio sobre la <strong>selección filtrada</strong>)</p></li>
<li><p>TRUE (promedio <strong>nacional</strong> calculado sobre <strong>todas</strong> las regiones disponibles en la edición)</p></li>
</ul></li>
<li><p><strong>esquema</strong>: elige el <strong>enfoque cromático</strong> del gráfico.</p>
<p>Opciones y formato:</p>
<ul>
<li><p>“binario”: dos colores según valor &gt;= promedio vs.&nbsp;&lt; promedio</p></li>
<li><p>“divergente”: gradiente centrado en 0 sobre la diferencia valor - promedio</p></li>
<li><p>“semaforo”: tres bandas (bajo, en torno, alto) con tolerancia interna</p></li>
<li><p>“region”: color <strong>por región</strong> (paletas cualitativas)</p></li>
<li><p>“monocromo”: un solo color para todo el trazo/punto</p></li>
</ul></li>
<li><p><strong>color_arriba</strong>, <strong>color_abajo</strong>: colores para “binario” (y extremos en “divergente”).</p>
<p>Opciones y formato:</p>
<ul>
<li><p>color_arriba = “#2C7FB8”, color_abajo = “#D7301F” (por defecto)</p></li>
<li><p>Cualquier color válido en R (hex, nombre, etc.)</p></li>
</ul></li>
<li><p><strong>paleta_region</strong> <em>(cuando esquema = “region”)</em>: paleta cualitativa para <strong>regiones</strong>.</p>
<p>Opciones y formato:</p>
<ul>
<li><p>“ipe” (por defecto)</p></li>
<li><p>“okabe_ito”</p></li>
<li><p>“viridis”</p></li>
</ul></li>
<li><p><strong>color_mono</strong> <em>(cuando esquema = “monocromo”)</em>: color único para segmentos y puntos.</p>
<p>Opciones y formato:</p>
<ul>
<li><p>“#3B5B92” (por defecto)</p></li>
<li><p>Cualquier color válido</p></li>
</ul></li>
<li><p><strong>mostrar_leyenda</strong>: controla si se muestra <strong>leyenda</strong>.</p>
<p>Opciones y formato:</p>
<ul>
<li><p>FALSE (por defecto)</p></li>
<li><p>TRUE (relevante sobre todo para “binario”, “divergente”, “semaforo” y “region”)</p></li>
</ul></li>
</ul>
</section>
<section id="explicación-conceptual-7" class="level2">
<h2 class="anchored" data-anchor-id="explicación-conceptual-7"><strong>Explicación conceptual</strong></h2>
<p>La función <strong>lee</strong> la edición solicitada, <strong>filtra</strong> a Puntaje del 0 al 10 y, si se especifica pilar, restringe a indicador == “General” de ese pilar, si pilar = NULL, toma el <strong>índice general total</strong>. Para regiones, resuelve <strong>grupos gr_*</strong> y <strong>exclusiones</strong>. Calcula luego un único valor por región (promedio defensivo y redondeo) y determina el <strong>promedio de referencia</strong>: <strong>nacional</strong> (si promedio_nacional = TRUE) o de la <strong>selección</strong> filtrada (por defecto).</p>
<p>El gráfico traza una <strong>línea horizontal</strong> por región, con origen en el <strong>promedio</strong> y destino en su <strong>valor</strong>, y un <strong>punto</strong> en el valor. La <strong>anotación</strong> numérica se desplaza levemente para evitar solapes y mejorar la legibilidad. La paleta elegida en esquema guía la lectura: <strong>comparación binaria</strong>, <strong>gradiente divergente</strong>, <strong>bandas semafóricas</strong>, <strong>identidad por región</strong> o <strong>sobriedad monocroma</strong>.</p>
</section>
<section id="ejemplos-6" class="level2">
<h2 class="anchored" data-anchor-id="ejemplos-6"><strong>Ejemplos</strong></h2>
<section id="índice-general-con-esquema-binario-promedio-de-la-selección" class="level3">
<h3 class="anchored" data-anchor-id="índice-general-con-esquema-binario-promedio-de-la-selección"><strong>1) Índice General con esquema binario (promedio de la selección)</strong></h3>
<p><strong>Se desea lo siguiente:</strong> comparar las regiones frente al <strong>promedio de la selección</strong> (todas, porque no se filtra) usando dos colores.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb55"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb55-1"><a href="#cb55-1" aria-hidden="true" tabindex="-1"></a>g1 <span class="ot">&lt;-</span> <span class="fu">general_media</span>(</span>
<span id="cb55-2"><a href="#cb55-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">edicion =</span> <span class="dv">2025</span>,</span>
<span id="cb55-3"><a href="#cb55-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">pilar   =</span> <span class="cn">NULL</span>,          <span class="co"># índice general total</span></span>
<span id="cb55-4"><a href="#cb55-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">regiones =</span> <span class="st">"ALL"</span>,</span>
<span id="cb55-5"><a href="#cb55-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">promedio_nacional =</span> <span class="cn">FALSE</span>,</span>
<span id="cb55-6"><a href="#cb55-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">esquema =</span> <span class="st">"binario"</span>,</span>
<span id="cb55-7"><a href="#cb55-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">mostrar_leyenda =</span> <span class="cn">TRUE</span></span>
<span id="cb55-8"><a href="#cb55-8" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb55-9"><a href="#cb55-9" aria-hidden="true" tabindex="-1"></a>g1</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Manual_files/figure-html/unnamed-chunk-37-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p><strong>Resultado esperado.</strong> Dos clases: <strong>por encima</strong> (o igual) vs.&nbsp;<strong>por debajo</strong> del promedio de la selección. Útil para una lectura ejecutiva rápida.</p>
</section>
<section id="pilar-salud-con-esquema-divergente-promedio-nacional" class="level3">
<h3 class="anchored" data-anchor-id="pilar-salud-con-esquema-divergente-promedio-nacional"><strong>2) Pilar Salud con esquema divergente (promedio nacional)</strong></h3>
<p><strong>Se desea lo siguiente:</strong> visualizar la <strong>distancia al promedio nacional</strong> en el pilar Salud, con gradiente continuo centrado en 0.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb56"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb56-1"><a href="#cb56-1" aria-hidden="true" tabindex="-1"></a>g2 <span class="ot">&lt;-</span> <span class="fu">general_media</span>(</span>
<span id="cb56-2"><a href="#cb56-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">edicion =</span> <span class="dv">2025</span>,</span>
<span id="cb56-3"><a href="#cb56-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">pilar   =</span> <span class="st">"SAL"</span>,         </span>
<span id="cb56-4"><a href="#cb56-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">regiones =</span> <span class="st">"ALL"</span>,</span>
<span id="cb56-5"><a href="#cb56-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">promedio_nacional =</span> <span class="cn">TRUE</span>,</span>
<span id="cb56-6"><a href="#cb56-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">esquema =</span> <span class="st">"divergente"</span>,</span>
<span id="cb56-7"><a href="#cb56-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">color_arriba =</span> <span class="st">"#2C7FB8"</span>,</span>
<span id="cb56-8"><a href="#cb56-8" aria-hidden="true" tabindex="-1"></a>  <span class="at">color_abajo  =</span> <span class="st">"#D7301F"</span>,</span>
<span id="cb56-9"><a href="#cb56-9" aria-hidden="true" tabindex="-1"></a>  <span class="at">mostrar_leyenda =</span> <span class="cn">TRUE</span></span>
<span id="cb56-10"><a href="#cb56-10" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb56-11"><a href="#cb56-11" aria-hidden="true" tabindex="-1"></a>g2</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Manual_files/figure-html/unnamed-chunk-38-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p><strong>Resultado esperado.</strong> Colores fríos para <strong>sobre</strong> el promedio nacional, cálidos para <strong>bajo</strong> el promedio, la leyenda cuantifica la <strong>diferencia</strong>.</p>
</section>
<section id="subconjunto-costero-sin-lima-esquema-semaforo" class="level3">
<h3 class="anchored" data-anchor-id="subconjunto-costero-sin-lima-esquema-semaforo"><strong>3) Subconjunto costero sin Lima *, esquema semaforo</strong></h3>
<p><strong>Se desea lo siguiente:</strong> enfocar en la <strong>costa</strong>, excluir <strong>Lima</strong>* y clasificar en <strong>bajo/en torno/alto</strong> respecto del promedio <strong>de la selección</strong>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb57"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb57-1"><a href="#cb57-1" aria-hidden="true" tabindex="-1"></a>g3 <span class="ot">&lt;-</span> <span class="fu">general_media</span>(</span>
<span id="cb57-2"><a href="#cb57-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">edicion =</span> <span class="dv">2025</span>,</span>
<span id="cb57-3"><a href="#cb57-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">pilar   =</span> <span class="cn">NULL</span>,                           <span class="co"># índice general total</span></span>
<span id="cb57-4"><a href="#cb57-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">regiones =</span> <span class="fu">c</span>(<span class="st">"gr_costa"</span>, <span class="st">"-Lima*"</span>),</span>
<span id="cb57-5"><a href="#cb57-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">promedio_nacional =</span> <span class="cn">FALSE</span>,                <span class="co"># promedio del subconjunto costero sin Lima*</span></span>
<span id="cb57-6"><a href="#cb57-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">esquema =</span> <span class="st">"semaforo"</span>,</span>
<span id="cb57-7"><a href="#cb57-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">mostrar_leyenda =</span> <span class="cn">TRUE</span></span>
<span id="cb57-8"><a href="#cb57-8" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb57-9"><a href="#cb57-9" aria-hidden="true" tabindex="-1"></a>g3</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Manual_files/figure-html/unnamed-chunk-39-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p><strong>Resultado esperado.</strong> Tres bandas con tolerancia interna, útil para audiencias que prefieren umbrales cualitativos claros.</p>
</section>
<section id="color-por-región-pilar-infraestructura-y-paleta-accesible" class="level3">
<h3 class="anchored" data-anchor-id="color-por-región-pilar-infraestructura-y-paleta-accesible"><strong>4) Color por región (pilar Infraestructura) y paleta accesible</strong></h3>
<p><strong>Se desea lo siguiente:</strong> resaltar la <strong>identidad</strong> de cada región con una paleta cualitativa accesible.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb58"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb58-1"><a href="#cb58-1" aria-hidden="true" tabindex="-1"></a>g4 <span class="ot">&lt;-</span> <span class="fu">general_media</span>(</span>
<span id="cb58-2"><a href="#cb58-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">edicion =</span> <span class="dv">2025</span>,</span>
<span id="cb58-3"><a href="#cb58-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">pilar   =</span> <span class="st">"INF"</span>,        <span class="co"># o "Infraestructura"</span></span>
<span id="cb58-4"><a href="#cb58-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">regiones =</span> <span class="st">"gr_norte"</span>,</span>
<span id="cb58-5"><a href="#cb58-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">promedio_nacional =</span> <span class="cn">TRUE</span>,</span>
<span id="cb58-6"><a href="#cb58-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">esquema =</span> <span class="st">"region"</span>,</span>
<span id="cb58-7"><a href="#cb58-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">paleta_region =</span> <span class="st">"okabe_ito"</span>,</span>
<span id="cb58-8"><a href="#cb58-8" aria-hidden="true" tabindex="-1"></a>  <span class="at">mostrar_leyenda =</span> <span class="cn">TRUE</span></span>
<span id="cb58-9"><a href="#cb58-9" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb58-10"><a href="#cb58-10" aria-hidden="true" tabindex="-1"></a>g4</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Manual_files/figure-html/unnamed-chunk-40-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p><strong>Resultado esperado.</strong> Una entrada por región con su color propio, manteniendo la referencia del <strong>promedio nacional</strong> y la comparabilidad 0–10.</p>
</section>
<section id="diseño-monocromo" class="level3">
<h3 class="anchored" data-anchor-id="diseño-monocromo"><strong>5) Diseño monocromo</strong></h3>
<p><strong>Se desea lo siguiente:</strong> un gráfico para un bloque mixto de regiones, enfatizando la distancia al promedio <strong>nacional</strong> sin distracción cromática.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb59"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb59-1"><a href="#cb59-1" aria-hidden="true" tabindex="-1"></a>g5 <span class="ot">&lt;-</span> <span class="fu">general_media</span>(</span>
<span id="cb59-2"><a href="#cb59-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">edicion =</span> <span class="dv">2025</span>,</span>
<span id="cb59-3"><a href="#cb59-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">pilar   =</span> <span class="fu">c</span>(<span class="st">"Educación"</span>),   <span class="co"># pilar por nombre</span></span>
<span id="cb59-4"><a href="#cb59-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">regiones =</span> <span class="fu">c</span>(<span class="st">"gr_sierra"</span>, <span class="st">"Arequipa"</span>, <span class="st">"La Libertad"</span>),</span>
<span id="cb59-5"><a href="#cb59-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">promedio_nacional =</span> <span class="cn">TRUE</span>,</span>
<span id="cb59-6"><a href="#cb59-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">esquema =</span> <span class="st">"monocromo"</span>,</span>
<span id="cb59-7"><a href="#cb59-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">color_mono =</span> <span class="st">"#3B5B92"</span>,</span>
<span id="cb59-8"><a href="#cb59-8" aria-hidden="true" tabindex="-1"></a>  <span class="at">mostrar_leyenda =</span> <span class="cn">FALSE</span></span>
<span id="cb59-9"><a href="#cb59-9" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb59-10"><a href="#cb59-10" aria-hidden="true" tabindex="-1"></a>g5</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Manual_files/figure-html/unnamed-chunk-41-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p><strong>Resultado esperado.</strong> Segmentos y puntos en <strong>un color</strong>, la interpretación se centra en la <strong>dirección</strong> y <strong>magnitud</strong> de la diferencia frente al promedio nacional.</p>
<p>Perfecto. Aquí tienes el texto <strong>detallado, narrativo y didáctico</strong> para tu manual sobre <strong>general_radar()</strong>, con los <strong>parámetros clave en viñetas</strong> (todas las opciones y valores envueltos en ``) y <strong>5 ejemplos</strong> claros que exploran funcionalidades propias del paquete (selección automática AUTO3, uso de grupos `gr_*`, control de paleta/alpha, puntos y formato de etiquetas de ejes). Trato `usar_codigos` como argumento secundario, mencionado en la narración.</p>
</section>
</section>
</section>
<section id="general_radar" class="level1">
<h1><strong>general_radar()</strong></h1>
<p><strong>Telaraña del puntaje General por pilares (una edición)</strong></p>
<p>Orientada a representar, en <strong>una edición</strong> del INCORE, la <strong>configuración de puntajes por pilar</strong> (escala 0–10) en un <strong>radar regular</strong> (hexágono). Cada vértice corresponde a uno de los <strong>seis pilares</strong>: Entorno económico, Laboral, Infraestructura, Salud, Educación e Instituciones. La figura admite <strong>comparar varias regiones</strong> superponiendo sus polígonos (lo ideal son <strong>3–6</strong> para una lectura nítida).</p>
<section id="introducción-8" class="level2">
<h2 class="anchored" data-anchor-id="introducción-8"><strong>Introducción</strong></h2>
<p><code>general_radar()</code> resuelve la necesidad de <strong>comparar perfiles</strong> de competitividad por pilar entre regiones en un corte temporal único. Mientras un ranking por pilar ordena y un mapa localiza, la telaraña muestra la <strong>forma</strong> del desempeño: regiones con <strong>perfiles equilibrados</strong> (polígonos cercanos a un círculo) frente a otras con <strong>fortalezas</strong> y <strong>debilidades</strong> marcadas (polígonos “deformados” hacia ciertos vértices).</p>
<p>La función puede <strong>seleccionar automáticamente</strong> tres casos representativos (“AUTO3”, por defecto): <strong>bajo</strong>, <strong>medio</strong> y <strong>alto</strong> según el <strong>promedio simple de los seis pilares</strong>. Internamente, obtiene los puntajes con ind_tabla(ediciones = edicion, modo = “pilares”, largo = TRUE) y los proyecta en coordenadas cartesianas para dibujar <strong>lados rectos</strong>, facilitando la comparación visual.</p>
</section>
<section id="parámetros-6" class="level2">
<h2 class="anchored" data-anchor-id="parámetros-6"><strong>Parámetros</strong></h2>
<p>Trabajar con general_radar() implica decidir: (i) <strong>qué edición</strong> se dibuja, (ii) <strong>qué regiones</strong> se comparan (automáticas, subconjuntos, grupos), y (iii) <strong>cómo</strong> presentar la figura (paleta, transparencia de relleno, puntos y formato de etiquetas de ejes). A continuación, los argumentos clave con sus opciones.</p>
<ul>
<li><p><strong>edicion</strong>: define la <strong>edición (año)</strong> de la que se tomarán los puntajes por pilar.</p>
<p>Opciones y formato:</p>
<ul>
<li><p>integer(1)</p></li>
<li><p>Rango típico del INCORE: 2016 … 2025</p></li>
</ul></li>
<li><p><strong>regiones</strong>: controla <strong>qué regiones</strong> se superponen en el radar.</p>
<p>Opciones y formato:</p>
<ul>
<li><p>“AUTO3” (por defecto): selección automática de <strong>3</strong> regiones representativas (<strong>bajo/medio/alto</strong>) según el <strong>promedio</strong> de los seis pilares.</p></li>
<li><p>NULL: <strong>todas</strong> las regiones (no recomendado por legibilidad).</p></li>
<li><p>Vector con nombres/códigos: c(“Arequipa”, “Cusco”, “La Libertad”) o c(“ARE”, “CUS”, “LAL”).</p></li>
<li><p>Puede incluir <strong>grupos gr_*</strong> cuando estén disponibles en tu ecosistema (p.&nbsp;ej., “gr_costa”), combinados con regiones puntuales.</p></li>
</ul></li>
<li><p><strong>max_regiones</strong>: establece el <strong>umbral de advertencia</strong> por <strong>legibilidad</strong>.</p>
<p>Opciones y formato:</p>
<ul>
<li><p>numeric(1), por defecto 6.</p></li>
<li><p>Si el número de regiones supera este valor, se emite una <strong>advertencia</strong> (no detiene el gráfico).</p></li>
</ul></li>
<li><p><strong>alpha</strong>: controla la <strong>transparencia del relleno</strong> de los polígonos (0–1).</p>
<p>Opciones y formato:</p>
<ul>
<li><p>0.25 (por defecto)</p></li>
<li><p>Valores mayores ⇒ <strong>más opaco</strong>, valores menores ⇒ <strong>más transparente</strong>.</p></li>
</ul></li>
<li><p><strong>paleta</strong>: define la paleta <strong>cualitativa</strong> para colorear <strong>por región</strong>.</p>
<p>Opciones y formato:</p>
<ul>
<li><p>“ipe” (por defecto, institucional)</p></li>
<li><p>“okabe_ito” (accesible para daltonismo)</p></li>
<li><p>“viridis” (perceptualmente uniforme, aunque concebida para continuas, también útil aquí por contraste)</p></li>
</ul></li>
<li><p><strong>mostrar_puntos</strong>: decide si <strong>marcar puntos</strong> en los <strong>vértices</strong> de cada polígono (un punto por pilar).</p>
<p>Opciones y formato:</p>
<ul>
<li><p>TRUE (por defecto)</p></li>
<li><p>FALSE (limpia el gráfico cuando hay muchas regiones)</p></li>
</ul></li>
<li><p><strong>etiquetas_pilares</strong>: controla el <strong>formato</strong> de las <strong>etiquetas</strong> en los ejes del radar.</p>
<p>Opciones y formato:</p>
<ul>
<li><p>“corto” (por defecto, quiebres de línea pensados para encajar mejor)</p></li>
<li><p>“largo” (nombres completos en una sola línea)</p></li>
</ul></li>
</ul>
</section>
<section id="explicación-conceptual-8" class="level2">
<h2 class="anchored" data-anchor-id="explicación-conceptual-8"><strong>Explicación conceptual</strong></h2>
<p>La función <strong>lee</strong> los puntajes por pilar de la <strong>edición</strong> indicada (escala 0–10) y establece un <strong>orden canónico</strong> de pilares para la disposición <strong>hexagonal</strong>. Si regiones = “AUTO3”, computa el <strong>promedio de pilares</strong> por región y selecciona automáticamente <strong>tres</strong> casos representativos (mínimo, mediana, máximo). Si se pasa un vector específico (o grupos gr_*), filtra a esas regiones.</p>
<p>Cada pilar se mapea a un <strong>ángulo fijo</strong> del hexágono y el puntaje actúa como <strong>radio</strong>, pero la proyección es a <strong>coordenadas cartesianas</strong> para dibujar <strong>lados rectos</strong>. Se añade una <strong>rejilla</strong> de referencia (por ejemplo, 2–4–6–8–10) y los <strong>ejes</strong> desde el centro a cada vértice con <strong>etiquetas</strong> cortas o largas. La <strong>paleta cualitativa</strong> asigna color por región y el <strong>relleno</strong> con alpha permite ver solapes al comparar.</p>
<p>En la lectura, <strong>polígonos amplios</strong> sugieren <strong>desempeño alto</strong> generalizado, <strong>deformaciones</strong> hacia un vértice indican <strong>fortalezas</strong> específicas, <strong>huecos</strong> o retracciones señalan <strong>áreas a mejorar</strong>. Limitar el número de regiones maximiza la <strong>interpretabilidad</strong>.</p>
</section>
<section id="ejemplos-7" class="level2">
<h2 class="anchored" data-anchor-id="ejemplos-7"><strong>Ejemplos</strong></h2>
<section id="selección-automática-de-3-regiones-auto3-configuración-básica" class="level3">
<h3 class="anchored" data-anchor-id="selección-automática-de-3-regiones-auto3-configuración-básica"><strong>1) Selección automática de 3 regiones (“AUTO3”) — configuración básica</strong></h3>
<p><strong>Se desea lo siguiente:</strong> comparar <strong>tres</strong> perfiles representativos (bajo/medio/alto) en la edición 2025 con formato legible por defecto.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb60"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb60-1"><a href="#cb60-1" aria-hidden="true" tabindex="-1"></a>r1 <span class="ot">&lt;-</span> <span class="fu">general_radar</span>(</span>
<span id="cb60-2"><a href="#cb60-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">edicion  =</span> <span class="dv">2025</span>,</span>
<span id="cb60-3"><a href="#cb60-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">paleta   =</span> <span class="st">"ipe"</span>,</span>
<span id="cb60-4"><a href="#cb60-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">alpha    =</span> <span class="fl">0.25</span>,</span>
<span id="cb60-5"><a href="#cb60-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">mostrar_puntos    =</span> <span class="cn">TRUE</span>,</span>
<span id="cb60-6"><a href="#cb60-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">etiquetas_pilares =</span> <span class="st">"corto"</span></span>
<span id="cb60-7"><a href="#cb60-7" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Selección automática de 3 regiones (AUTO3): Loreto, Tumbes, Moquegua</code></pre>
</div>
<div class="sourceCode cell-code" id="cb62"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb62-1"><a href="#cb62-1" aria-hidden="true" tabindex="-1"></a>r1</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Manual_files/figure-html/unnamed-chunk-42-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p><strong>Resultado esperado.</strong> Un radar con <strong>tres polígonos</strong>: uno “retraído” (bajo), otro intermedio y otro “expandido” (alto), facilitando la comparación pedagógica.</p>
</section>
<section id="subconjunto-explícito-de-regiones" class="level3">
<h3 class="anchored" data-anchor-id="subconjunto-explícito-de-regiones"><strong>2) Subconjunto explícito de regiones</strong></h3>
<p><strong>Se desea lo siguiente:</strong> comparar <strong>tres</strong> regiones específicas usando una paleta accesible y nombres completos en los ejes.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb63"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb63-1"><a href="#cb63-1" aria-hidden="true" tabindex="-1"></a>r2 <span class="ot">&lt;-</span> <span class="fu">general_radar</span>(</span>
<span id="cb63-2"><a href="#cb63-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">edicion  =</span> <span class="dv">2025</span>,</span>
<span id="cb63-3"><a href="#cb63-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">regiones =</span> <span class="fu">c</span>(<span class="st">"Arequipa"</span>, <span class="st">"Cusco"</span>, <span class="st">"La Libertad"</span>),</span>
<span id="cb63-4"><a href="#cb63-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">paleta   =</span> <span class="st">"okabe_ito"</span>,</span>
<span id="cb63-5"><a href="#cb63-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">alpha    =</span> <span class="fl">0.30</span>,</span>
<span id="cb63-6"><a href="#cb63-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">mostrar_puntos    =</span> <span class="cn">TRUE</span>,</span>
<span id="cb63-7"><a href="#cb63-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">etiquetas_pilares =</span> <span class="st">"largo"</span></span>
<span id="cb63-8"><a href="#cb63-8" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb63-9"><a href="#cb63-9" aria-hidden="true" tabindex="-1"></a>r2</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Manual_files/figure-html/unnamed-chunk-43-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p><strong>Resultado esperado.</strong> Tres polígonos con <strong>alto contraste cromático</strong> y ejes con <strong>etiquetas</strong></p>
</section>
<section id="uso-de-grupos-gr-combinación-con-región-puntual-y-mayor-transparencia" class="level3">
<h3 class="anchored" data-anchor-id="uso-de-grupos-gr-combinación-con-región-puntual-y-mayor-transparencia"><strong>3) Uso de grupos gr (combinación con región puntual) y mayor transparencia</strong></h3>
<p><strong>Se desea lo siguiente:</strong> contrastar un grupo regional con una región puntual, reduciendo opacidad para ver mejor solapes.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb64"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb64-1"><a href="#cb64-1" aria-hidden="true" tabindex="-1"></a>r3 <span class="ot">&lt;-</span> <span class="fu">general_radar</span>(</span>
<span id="cb64-2"><a href="#cb64-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">edicion  =</span> <span class="dv">2025</span>,</span>
<span id="cb64-3"><a href="#cb64-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">regiones =</span> <span class="fu">c</span>(<span class="st">"gr_costa"</span>, <span class="st">"-Arequipa"</span>, <span class="st">"-Lima*"</span>, </span>
<span id="cb64-4"><a href="#cb64-4" aria-hidden="true" tabindex="-1"></a>               <span class="st">"-Lima Provincias"</span>, <span class="st">"-Ica"</span>, <span class="st">"-Moquegua"</span>),</span>
<span id="cb64-5"><a href="#cb64-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">paleta   =</span> <span class="st">"viridis"</span>,</span>
<span id="cb64-6"><a href="#cb64-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">alpha    =</span> <span class="fl">0.18</span>,</span>
<span id="cb64-7"><a href="#cb64-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">mostrar_puntos    =</span> <span class="cn">TRUE</span>,</span>
<span id="cb64-8"><a href="#cb64-8" aria-hidden="true" tabindex="-1"></a>  <span class="at">etiquetas_pilares =</span> <span class="st">"corto"</span></span>
<span id="cb64-9"><a href="#cb64-9" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb64-10"><a href="#cb64-10" aria-hidden="true" tabindex="-1"></a>r3</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Manual_files/figure-html/unnamed-chunk-44-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p><strong>Resultado esperado.</strong> El polígono agregado del <strong>grupo</strong> (si tu ecosistema expande gr_costa a sus integrantes y filtra)</p>
</section>
<section id="comparación-ampliada-con-advertencia-de-legibilidad" class="level3">
<h3 class="anchored" data-anchor-id="comparación-ampliada-con-advertencia-de-legibilidad"><strong>4) Comparación ampliada con advertencia de legibilidad</strong></h3>
<p><strong>Se desea lo siguiente:</strong> incluir <strong>ocho</strong> regiones (por encima del umbral por defecto) para evaluar la <strong>advertencia</strong> y el comportamiento visual.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb65"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb65-1"><a href="#cb65-1" aria-hidden="true" tabindex="-1"></a>r4 <span class="ot">&lt;-</span> <span class="fu">general_radar</span>(</span>
<span id="cb65-2"><a href="#cb65-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">edicion  =</span> <span class="dv">2025</span>,</span>
<span id="cb65-3"><a href="#cb65-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">regiones =</span> <span class="fu">c</span>(<span class="st">"Arequipa"</span>, <span class="st">"Cusco"</span>, <span class="st">"La Libertad"</span>,</span>
<span id="cb65-4"><a href="#cb65-4" aria-hidden="true" tabindex="-1"></a>               <span class="st">"Piura"</span>, <span class="st">"Lambayeque"</span>, <span class="st">"Tacna"</span>,</span>
<span id="cb65-5"><a href="#cb65-5" aria-hidden="true" tabindex="-1"></a>               <span class="st">"Junín"</span>, <span class="st">"Puno"</span>),</span>
<span id="cb65-6"><a href="#cb65-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">paleta   =</span> <span class="st">"ipe"</span>,</span>
<span id="cb65-7"><a href="#cb65-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">alpha    =</span> <span class="fl">0.20</span>,</span>
<span id="cb65-8"><a href="#cb65-8" aria-hidden="true" tabindex="-1"></a>  <span class="at">mostrar_puntos    =</span> <span class="cn">FALSE</span>,   <span class="co"># sin puntos para reducir ruido</span></span>
<span id="cb65-9"><a href="#cb65-9" aria-hidden="true" tabindex="-1"></a>  <span class="at">etiquetas_pilares =</span> <span class="st">"corto"</span>,</span>
<span id="cb65-10"><a href="#cb65-10" aria-hidden="true" tabindex="-1"></a>  <span class="at">max_regiones =</span> <span class="dv">6</span>             <span class="co"># dispara warning informativo</span></span>
<span id="cb65-11"><a href="#cb65-11" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in general_radar(edicion = 2025, regiones = c("Arequipa", "Cusco", :
Estás comparando 8 regiones. Para un radar legible, considera ≤ 6 (ideal 3–4).</code></pre>
</div>
<div class="sourceCode cell-code" id="cb67"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb67-1"><a href="#cb67-1" aria-hidden="true" tabindex="-1"></a>r4</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Manual_files/figure-html/unnamed-chunk-45-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p><strong>Resultado esperado.</strong> El gráfico <strong>se renderiza</strong> y muestra los ocho polígonos, pero aparece una <strong>advertencia</strong> por legibilidad. Se sugiere, para análisis fino, reducir el conjunto o segmentar en dos gráficos.</p>
</section>
<section id="comparación-focalizada-con-auto3-y-estilo-sin-puntos" class="level3">
<h3 class="anchored" data-anchor-id="comparación-focalizada-con-auto3-y-estilo-sin-puntos"><strong>5) Comparación focalizada con AUTO3 y estilo sin puntos</strong></h3>
<p><strong>Se desea lo siguiente:</strong> producir una figura <strong>limpia</strong> (sin puntos) con la selección automática AUTO3, ajustando la transparencia para enfatizar formas.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb68"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb68-1"><a href="#cb68-1" aria-hidden="true" tabindex="-1"></a>r5 <span class="ot">&lt;-</span> <span class="fu">general_radar</span>(</span>
<span id="cb68-2"><a href="#cb68-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">edicion  =</span> <span class="dv">2025</span>,</span>
<span id="cb68-3"><a href="#cb68-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">regiones =</span> <span class="st">"AUTO3"</span>,</span>
<span id="cb68-4"><a href="#cb68-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">paleta   =</span> <span class="st">"ipe"</span>,</span>
<span id="cb68-5"><a href="#cb68-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">alpha    =</span> <span class="fl">0.35</span>,</span>
<span id="cb68-6"><a href="#cb68-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">mostrar_puntos    =</span> <span class="cn">FALSE</span>,   <span class="co"># limpia vértices para destacar contornos</span></span>
<span id="cb68-7"><a href="#cb68-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">etiquetas_pilares =</span> <span class="st">"corto"</span></span>
<span id="cb68-8"><a href="#cb68-8" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Selección automática de 3 regiones (AUTO3): Loreto, Tumbes, Moquegua</code></pre>
</div>
<div class="sourceCode cell-code" id="cb70"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb70-1"><a href="#cb70-1" aria-hidden="true" tabindex="-1"></a>r5</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Manual_files/figure-html/unnamed-chunk-46-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p><strong>Resultado esperado.</strong> Tres polígonos con contornos nítidos y relleno intermedio.</p>
</section>
</section>
</section>

</main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    // For code content inside modals, clipBoardJS needs to be initialized with a container option
    // TODO: Check when it could be a function (https://github.com/zenorocha/clipboard.js/issues/860)
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>